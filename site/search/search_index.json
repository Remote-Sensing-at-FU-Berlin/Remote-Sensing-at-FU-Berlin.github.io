{"config":{"lang":["de"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Einleitung","text":""},{"location":"#test","title":"Test","text":""},{"location":"bildinterpretation_mit_google_earth/","title":"0. Bildinterpretation mit Google Earth","text":"<ul> <li>Lesen Sie sich dieses Handout ausf\u00fchrlich bis zum Ende durch , bevor Sie mit der \u00dcbung beginnen!     Sehr h\u00e4ufig kl\u00e4ren sich Ihre aufkommenden Fragen in den n\u00e4chsten Arbeitsschritten!</li> <li>Legen Sie einen Ordner auf Ihrem Computer an, in dem Sie alle zuk\u00fcnftigen Daten f\u00fcr unseren     Fernerkundungskurs speichern. Wir empfehlen, diesen Ordner FE_Kurs zu nennen und in diesem     weitere Unterordner f\u00fcr jede einzelne Sitzung anzulegen (z.B. ...\\FE_Kurs\\ 01 _GoogleEarth f\u00fcr die     heutige Sitzung).</li> <li>Wichtig f\u00fcr alle Sitzungen: Bitte achten Sie auf die korrekte Benennung Ihrer Ordnernamen: erlaubt     sind Zahlen, g\u00e4ngige Buchstaben sowie Unterstriche. Zu Problemen mit ERDAS bzw. einzelnen Tools     in ERDAS (Absturz!!) kann es kommen, wenn Sie Umlaute, Leerzeichen oder Sonderzeichen in Ihren     Ordnernamen verwenden!</li> </ul>"},{"location":"bildinterpretation_mit_google_earth/#lernziele","title":"Lernziele","text":"<ul> <li>Kennenlernen der Google Earth-Benutzeroberfl\u00e4che</li> <li>Satellitenbilder zeitlich einordnen k\u00f6nnen</li> <li>Geoobjekte in Satellitenbildern erkennen</li> <li>Digitalisieren in Google Earth</li> </ul>"},{"location":"bildinterpretation_mit_google_earth/#zeitliche-und-raumliche-orientierung-in-google-earth-pro","title":"Zeitliche und r\u00e4umliche Orientierung in Google Earth Pro","text":"<ul> <li> <p>Starten Sie Google Earth Pro und machen Sie sich mit der Oberfl\u00e4che vertraut.</p> </li> <li> <p>Nutzen Sie die Tipps zum Programmstart.</p> </li> <li> <p>Deaktivieren Sie alle Ebenen (im Fenster auf der linken Seite alle H\u00e4kchen entfernen) und schalten Sie nun nach und nach Ebenen hinzu, um diese besser kennenzulernen.</p> </li> <li> <p>Betrachten Sie mehrere Gebiete Ihrer Wahl in Berlin , um nur anhand der Bilder folgende Fragen zu     beantworten:</p> </li> <li> <p>Zu welcher Jahreszeit wurde die jeweilige Bildaufnahme gemacht? Woran k\u00f6nnen die einzelnen Jahreszeiten generell erkannt werden?</p> </li> <li>K\u00f6nnen Sie Monat und Jahr feststellen?</li> <li>Woran haben Sie die Mensa erkannt?</li> <li>Wie beurteilen Sie die Qualit\u00e4t der Bilddaten?</li> </ul> <p>\u2794 Notieren Sie sich Ihre Antworten, wir besprechen diese im Seminar.</p> <p>In der Google Earth - Statusleiste rechts unten sind Informationen \u00fcber die verwendeten Bilddaten</p> <p>(Aufnahmedatum, Koordinaten, die H\u00f6he \u00fcber NN und die Sichth\u00f6he) ablesbar, z.B.:</p> <p></p> <p>Tipps:</p> <ul> <li>Google Earth verwendet in der Voreinstellung geographische Koordinaten mit WGS84 als Ellipsoid.     In der Google Earth Men\u00fcleiste unter <code>Tools &gt; Optionen &gt; 3D-Ansicht</code> l\u00e4sst sich die Anzeige von     Breite und L\u00e4nge auf das UTM Koordinatensystem (\u201e Universales transversales Mercator- Koordinatensystem \u201c) umstellen.</li> <li>Beim Zoomen wird die Ansicht automatisch geneigt. Dies k\u00f6nnen Sie ausstellen unter <code>Tools &gt;     Optionen &gt; Navigation</code>: \u201e Beim Zoomen nicht automatisch neigen \u201c.</li> </ul>"},{"location":"bildinterpretation_mit_google_earth/#digitalisieren-in-google-earth","title":"Digitalisieren in Google Earth","text":"<p>In Google Earth k\u00f6nnen Geodaten selbst erstellt und in einem Datenformat gespeichert werden, welches</p> <p>anschlie\u00dfend in ein Geographisches Informationssystem (GIS, z.B. ArcGIS oder QGIS ) importiert werden</p> <p>kann.</p> <ul> <li>Links unter \u201eMy Places (Meine Orte)\u201c k\u00f6nnen Sie selbsterstellte Punkte , Polygone und Linien     speichern.</li> <li>F\u00fcgen Sie unter <code>My Places (Meine Orte) &gt; Rechtsklick &gt; Hinzuf\u00fcgen</code> einen neuen Ordner in     My Places ( Meine Orte) hinzu und erstellen Sie die folgenden Digitalisierungen in diesem Ordner.</li> <li>Nutzen Sie die Werkzeugleiste um...<ul> <li>die S-Bahn (einen Abschnitt) als Linie zu digitalisieren.</li> </ul> </li> </ul> <p></p> <ul> <li>den FU Campus Lankwitz als Polygon zu digitalisieren (halb transparent, mit Umrandung).</li> <li>die Geb\u00e4ude des Geocampus\u2018 zu markieren (vergeben Sie als Namen die Geb\u00e4udenamen, w\u00e4hlen Sie die Symbole entsprechend der Fachbereiche bzw. Nutzung aus).</li> <li>Symbole und Farben k\u00f6nnen in dem sich</li> </ul> <p></p> <p>\u00f6ffnenden Fenster angepasst werden:</p> <p>Tipp: Punkte, Polygone und Linien k\u00f6nnen bearbeitet und auch erg\u00e4nzt werden, solange dieses Fenster ge\u00f6ffnet ist!</p> <ul> <li>Speichern Sie nach der Digitalisierung Ihren Ordner <code>Rechtsklick &gt; Ort speichern unter...</code>_ in einer</li> </ul> <p>kmz - Datei (Keyhole Markup Language, Dateiendungen: .kmz, .kml) in Ihrem pers\u00f6nlichen FE-Ordner z.B.:</p> <pre><code> ...\\FE_Kurs\\01_GoogleEarth\n</code></pre> <ul> <li>Schlie\u00dfen Sie Google Earth und starten Sie das Programm erneut. Rekonstruieren Sie Ihre</li> </ul> <p>digitalisierten Geoobjekte \u00fcber die kmz-Datei. Die kmz-Datei kann \u00fcber <code>Datei &gt; \u00d6ffnen</code> wieder in</p> <p>Google Earth importiert werden.</p>"},{"location":"bildinterpretation_mit_google_earth/#daten-in-arcgis-bzw-qgis-offnen","title":"Daten in ArcGIS bzw. QGIS \u00f6ffnen","text":""},{"location":"bildinterpretation_mit_google_earth/#arcmap","title":"ArcMap","text":"<ul> <li>\u00d6ffnen Sie ArcMap und importieren Sie dort die gerade erstellte kmz-Datei. Benutzen Sie die</li> </ul> <p>Suchfunktion, um das Tool KML to Layer aufzurufen.</p> <ul> <li>Input- Datensatz z.B.:</li> </ul> <pre><code>...\\FE_Kurs\\01_GoogleEarth\\... .kmz\n</code></pre> <ul> <li>Output- Ordner z.B.:</li> </ul> <pre><code>...\\FE_Kurs\\01_GoogleEarth\\...\n</code></pre> <p></p> <ul> <li>Die importierten Dateien werden in ArcGIS in einer Geodatenbank (.gdb) tempor\u00e4r abgelegt.</li> <li>Exportieren Sie danach die Layer-Dateien (jeweils Punkte, Polygon(e) und Polylines) als Shapefiles     <code>Data &gt; Export Data</code> und speichern Sie diese Dateien in Ihrem FE-Ordner.</li> <li>Beachten Sie die Projektion der neuen Datens\u00e4tze. Was m\u00fcssen Sie tun, um diese ggf. zu \u00e4ndern?</li> </ul>"},{"location":"bildinterpretation_mit_google_earth/#qgis","title":"QGIS","text":"<ul> <li>\u00d6ffnen Sie QGIS und importieren Sie dort die gerade erstellte kmz-Datei.</li> <li>W\u00e4hlen Sie in der oberen <code>Men\u00fcleiste &gt; Layer &gt; Add Layer &gt; Add Vector Layer</code></li> <li> <p>Im sich \u00f6ffnenden Fenster des <code>Data Source Manager &gt; Vector &gt; Vector</code> klicken Sie auf den Browse-Button. Navigieren Sie hier zu Ihrem Ordner und laden Sie Ihre erstellte kmz-Datei.</p> </li> <li> <p>Exportieren Sie nun die Layer-Dateien (jeweils Punkte, Polygon(e) und Polylines) als Shapefiles     <code>Rechtsklick &gt; Export &gt; Save Features as... &gt; ESRI Shapefile</code> und speichern Sie diese Dateien in     Ihrem FE-Ordner.</p> </li> <li>Beachten Sie die Projektion der neuen Datens\u00e4tze. Was m\u00fcssen Sie tun, um diese ggf. zu \u00e4ndern?</li> </ul> <p>Das waren die Inhalte der ersten Sitzung \u201eBildinterpretation mit Google Earth\u201c.</p> <p>Wenn Sie dieses Handout durchgearbeitet haben, haben Sie</p> <ul> <li>sich damit besch\u00e4ftigt, wie man Satellitenbilder zeitlich und r\u00e4umlich einordnen kann und</li> <li>gelernt, Geodaten in Google Earth f\u00fcr Ihr eigenes Projekt zu nutzen.</li> </ul>"},{"location":"planetary-sciences-tutorials/","title":"Planetary Sciences: Remote Sensing Tutorial","text":"<p>This repo contains tutorials from Fabian Fassnacht to get you started with downloading Landsat and Sentinel-2 imagery. You can either work through them by opening them in your browser or by cloning the repo to your local computer (see below).</p> <pre><code>git clone https://github.com/Remote-Sensing-at-FU-Berlin/planetary-sciences-tutorials.git\n</code></pre> <p>If you re-distribute this tutorial series, please acknowledge the original author with the following citation:</p> <p>\"Planetary Sciences: Remote Sensing Tutorial\" (https://github.com/Remote-Sensing-at-FU-Berlin/planetary-sciences-tutorials) by Fabian Fassnacht. The tutorial series is licensed under CC BY SA 4.0.</p>"},{"location":"planetary-sciences-tutorials/01-download-ls-and-s2/","title":"01 download ls and s2","text":""},{"location":"planetary-sciences-tutorials/01-download-ls-and-s2/#remote-sensing-tutorial-1-download-of-landsat-and-sentinel-satellite-images","title":"Remote Sensing Tutorial 1 - Download of Landsat and Sentinel satellite images","text":"<p>Abstract  In this Tutorial we will learn how to download multispectral satellite images of Landsat and Sentinel-2 sensors. We will also learn how to pre-process the satellite images in order to load them in QGIS or Python. For pre-processing Sentinel-2 images we will use the European Space Agency's BEAM software which you can download here:</p> <p>Download SNAP software</p>"},{"location":"planetary-sciences-tutorials/01-download-ls-and-s2/#download-landsat-data-from-the-earthexplorer-portal-of-the-usgs","title":"Download Landsat data from the EarthExplorer portal of the USGS","text":"<p>For downloading Landsat images, several web-portals exist. However, from my experience, the by far most comfortable option is the earthexplorer webpage of USGS: https://earthexplorer.usgs.gov/. A very good video-tutorial on how to download Landsat satellite imagery is provided here:</p> <p>Download Landsat images from the USGS earth explorer website</p> <p>Please have a look at the video and download a Landsat 8 or Landsat 9 image from the year 2022 from any location of the world, that you are interested in. Make sure that you download an image of Collection 2 Level 2.  One small tip: It will be easier to find a suitable (cloud-free) image if you focus on a region of the Earth that is not permanently clouded (tropical areas are often tricky).</p> <p>When following the instructions in the video, please additionally consider the following remarks:</p> <ol> <li>Contrarily to what is said in the video, I would recommend to always download the packaged file (and not the individual bands) if you have a decent internet connection - this will be less complicated and you will make sure that you indeed download all files that you need.</li> <li>Be aware that depending on the time period you indicate at the beginning of the process, images from some Landsat sensors may not be available since the Landsat sensors all operated for a certain time period as indicated in Table 1. That is, if you want to download an image from 2022, you will only be able to download images from Landsat 7,8 and 9 since the other sensors were not operating anymore in 2022.</li> <li>When working with the downloaded data, it is extremely important to understand the processing level of the data which depends on selected Level and Collection. You can find more information on this here: https://www.usgs.gov/landsat-missions/product-information Having a closer look at those details is very valuable as it will enable you to fully understand what the downloaded files contain (e.g., the physical unit and the scaling in which the information in the bands is stored, etc.). We will get back to this later on.</li> </ol> <p>Table 1: Landsat sensors operation time</p> Sensor Operation time Landsat 1 1972-1978 Landsat 2 1975-1982 Landsat 3 1978-1983 Landsat 4 1982-1993 Landsat 5 1984-2013 (!!) Landsat 7 1999-today Landsat 8 2013-today Landsat 9 2021-today"},{"location":"planetary-sciences-tutorials/01-download-ls-and-s2/#download-sentinel-2-data-from-esas-open-science-hub","title":"Download Sentinel-2 data from ESA's open science hub","text":"<p>Similarly as in the case of Landsat, there is also a comparably comfortable (even though slightly less comfortable than the earthexplorer page - at least in my opinion) webpage to download Sentinel-2, as well as Sentinel-1 and 3 images. You can find the webpage here: https://scihub.copernicus.eu/</p> <p>Once again, there is a very good video available with instructions on how to download Sentinel-2 images from the webpage: Download Sentinel-2 images from the ESA science hub website </p> <p>Please have a look at the video and download a Sentinel-2 image from the approximately same time period and location as you chose for the Landsat image. Be aware that Sentinel-2 images are only available starting from mid-2015. </p> <p>Make sure that you save the Landsat and Sentinel-2 files at a location on your computer that you are able to find again afterwards.</p> <p>Once we have downloaded the images, we will continue with some simple pre-processing steps to save both images as multi-layer geotiff-files which we can then use in Python or QGIS (as already learned in the GIS-practicals of the course). We will apply different pre-processing work-flows for Landsat and Sentinel-2 and while there are also options available to perform the pre-processing steps directly in Python, we will here first learn the basic option using SNAP for the Sentinel-2 image and QGIS for the Landsat image.</p>"},{"location":"planetary-sciences-tutorials/01-download-ls-and-s2/#pre-process-the-landsat-image-into-a-multi-layer-geotiff-file-using-qgis","title":"Pre-process the Landsat image into a multi-layer geotiff file using QGIS","text":"<p>After downloading the Landsat 8 or 9 image from the earthexplorer webpage and extracting the archive file on your hard-disc you should have a file folder similar to the one shown in Figure 1. Extracting an archive file typically works by performing a right-click on the downloaded file and then select some option related to \"extract files\" - in case you cannot open the downloaded files, you might have to install a (de-)compression software tool first - you can for example use \"7zip\" (=&gt; simply google, download and install it). </p> <p></p> <p>Figure 1: Files of a Landsat-image after extraction</p> <p>The extracted files include numerous meta-data files as well as the actual remote sensing data. The most important files are the image files containing the spectral values observed by the spectral channels of the satellite sensor. These images can be identified by their ending:</p> <p>..._SR_B*.TIF</p> <p>where the * takes values between 1 and 7 for the bands 1 to 7 of Landsat 8 (in my case). That is, B stands for \"Band\" while SR stands for \"surface reflectance\". This is the case because I downloaded level 2 data which have already been atmospherically corrected, that is the radiance measured at the sensor has been converted to surface reflectance. We will learn more about this in one of the next lectures.</p> <p>Additionally, a band with ending</p> <p>..._ST_B10.TIF</p> <p>is available which represents the thermal band of Landsat with ST standing for \"surface temperature\".</p> <p>The exact physical units and scaling of the data contained in the images can be checked in the official product descriptions of the Landsat sensors. For the image I have downloaded, the corresponding information can be found in the report provided here:</p> <p>https://www.usgs.gov/media/files/landsat-8-9-collection-2-level-2-science-product-guide</p> <p>It is highly recommended to have a closer look at these reports and you will have to do this to answer some of the questions asked below.</p> <p>For now, we will focus on the spectral bands containing surface reflectance information (bands are marked in red in Figure 1. ). We will now use QGIS to stack these bands and save them into a single multi-layer/band geotiff file.</p> <p>To do this we open the Toolbox in QGIS (if not already open) by selecting:</p> <p>\"Processing\" (in the main file menu) \u21d2 \"Toolbox\"</p> <p>Then we search for the keyword \"merge\" in the toolbox window as shown in Figure 2.</p> <p></p> <p>Figure 2: Find the GDAL-merge tool</p> <p>In the list of returned tools, we select the \"merge\" tool listed under GDAL \u21d2 Raster miscellaneous and double click-it to open it (tool is selected in Figure 02).</p> <p></p> <p>Figure 3: The GDAL-merge tool</p> <p>In the upcoming dialogue shown in Figure 3, we will then have to add the 7 Landsat channels containing the spectral values observed by the satellite sensor. For this we press the \"...\" - button next to the \"input Layers\" section. </p> <p></p> <p>Figure 4: Adding bands to the merge tool</p> <p>The menu will change to a new window as shown in Figure 4. Here, we will now press the \"Add File(s)\" button (marked with 1 in Figure 4) and select the 7 spectral bands with the endings _SR_B*.TIF as marked in Figure 1 and confirm with \"open\". Make sure that the order is also correct with B1 being the first/top band and B7 the last/bottom. If everything is correct, use the \"arrow button\" marked with 2 in Figure 4 to return to the main menu of the \"merge\" tool.</p> <p></p> <p>Figure 5: Applying  the merge tool</p> <p>As last step we select the option \"Place each input file into a separate band\" and define an output filename and path (as marked with 1 and 2 in Figure 5). Then we click \"run\" to merge the 7 bands into a single multi-layer/band geotif-file.</p> <p></p> <p>Figure 6: The resulting merged multi-band image</p> <p>This should result in a view similar as in Figure 6 - even though the actual view might of course be very different depending on which image you downloaded. With some adjustment of the visualization settings with which you should already be familiar with from the GIS-parts of the course we can obtain a RGB-view of the satellite images, mimicking the visual impression we have as humans (Figure 7).</p> <p> Figure 7: The resulting merged multi-band image in RGB view</p> <p>You should now be able to pre-process and visualize Landsat images in QGIS. This is a really interesting skill, considering that Landsat images are available since 1972 and for the complete globe. The number of bands to merge and the visualization settings will differ depending on the Landsat sensor with which the data was collected, but you will always be able to understand which bands you have to add to your image stack if you refer to the Landsat product guides which you can find under the links above.</p>"},{"location":"planetary-sciences-tutorials/01-download-ls-and-s2/#pre-process-the-sentinel-2-image-into-a-multi-layer-geotiff-file-using-snap","title":"Pre-process the Sentinel-2 image into a multi-layer geotiff file using SNAP","text":"<p>After downloading the Sentinel-2 image and extracting the archive file on your hard-disc you should have a file folder similar to the one shown in Figure 8. </p> <p></p> <p>Figure 8: Files of a Sentinel-2 image after extraction</p> <p>In case of Sentinel-2, the situation is even more complex than with Landsat and not only numerous files are visible but there are even several sub-folders containing meta-data as well as the original image files. As already shown in the download-video, the actual image files of the Sentinel-2 image can be found in of the subfolders which in my case is named:</p> <p>\"GRANULE\\L1C_T18QXJ_A027836_20220705T153624\\IMG_DATA\"</p> <p>The bands are saved in jpeg2000 format which is a compressed format which, however, does not lose any information.</p> <p>The jpeg2000-format is a not that common format and hence, it might be desirable to save the data in a different format such as geotif which can be opened by most software for processing geodata. Besides the data format we have to consider as well that not all bands of Sentinel-2 have the same spatial resolution. There are four bands at 10 m spatial resolution (pixel size) and 6 bands at 20 m spatial resolution. Furthermore, there are two bands with 60 m spatial resolution. The latter are mostly used to inform atmospheric correction algorithms.</p> <p>The typical procedure to pre-process Sentinel-2 images hence includes to build a subset of only the bands with 10 and 20 m spatial resolution, stack them, resample some of the bands and save all bands into a multi-layer/band file with either 10 or 20 m pixel size.</p> <p>The probably easiest way to accomplish these pre-processing steps is to use the SNAP toolbox of the European Space Agency. SNAP is a quite complete free and open-access toolbox which offers numerous tools to visualize and analyse remote sensing data. In the following, we will not explore all options that are available in SNAP, but if you are interested in getting to know the software a bit better, there are numerous resources on the web, including the tutorials on the official webpage:</p> <p>https://step.esa.int/main/doc/tutorials/</p> <p>As well as some inofficial youtube-videos such as:</p> <p>https://www.youtube.com/watch?v=IqqH4UEVGmY</p> <p>Here, we will only get to know the steps necessary to load the S2-image into SNAP and save the image into a multi-layer/band geotif file.</p> <p>For this we first open SNAP. In the main menu of SNAP we select </p> <p>File \u21d2 Import \u21d2 Optical Sensors \u21d2 Sentinel-2 \u21d2 S2-MSI L1C</p> <p>as shown in Figure 9.</p> <p></p> <p>Figure 9: Files of a Sentinel-2 image after extraction</p> <p>In the upcoming dialogue, we now browse to the folder which contains our extracted and downloaded Sentinel-2 dataset. Here, we then select the .xml file which IS NOT CALLED \"Inspire.XML\". The name of the file is always different and depends on the downloaded image. In my case the file we have to open is called \"MTD_MSIL1C.xml\".</p> <p>We select the file and confirm with \"Import Product\" (see Figure 10).</p> <p></p> <p>Figure 10: Files of a Sentinel-2 image after extraction</p> <p>After a few seconds the Sentinel-2 image will appear in the Product-Explorer window on the left in the SNAP user interface. We can expand the menus (by clicking the buttons marked in red in Figure 11) to get a better idea of what the file contains.</p> <p></p> <p>Figure 11: Exploring the Sentinel-2 image in SNAP</p> <p>We can see that the file is rather complex with numerous sub-folders containing more folders. The actual image-data we are mostly interested in is contained in the \"Bands\" folder as also marked in Figure 11.</p> <p></p> <p>Figure 12: Open RGB view</p> <p>If we want to have a look at what the image looks like, we can perform a right click on the product name and select </p> <p>\"Open RGB Image Window\" as shown in Figure 12.</p> <p></p> <p>Figure 13: Open RGB view</p> <p>In the new dialogue, we simple confirm with \"OK\" (Figure 13). And then a RGB-view of your satellite image should appear. In my case this looks like shown in Figure 14.</p> <p></p> <p>Figure 14: RGB view of the Sentinel-2 image</p> <p>We will not dive further into the various visualization options SNAP offers but directly continue with the pre-processing steps.</p> <p>For this we select </p> <p>Raster  \u21d2 Subset</p> <p>as shown in Figure 15.</p> <p></p> <p>Figure 15: Subset Sentinel-2 image</p> <p>From the main file menu. In the appearing dialogue, we select the \"band subset\" section as marked in Figure 16. Here, we now select only the Sentinel-2 bands that either have a spatial resolution of 10 or 20 m. Formulated in other words, we will drop the bands 1, 9 and 10 which all have a spatial resolution of 60 m. Please be aware that you have to know which Sentinel-2 bands have which spatial resolution. You can also check this in the meta-data but it is somehow expected that you familiarized yourself with the sensor of the data you are working with.</p> <p>Technical details of the Sentinel-2 sensors can be found for example here:</p> <p>https://sentinel.esa.int/web/sentinel/user-guides/sentinel-2-msi</p> <p></p> <p>Figure 16: Selecting only bands with 10 or 20 m spatial resolution</p> <p>We then confirm with \"OK\" and a new version of my image will immediately appear in the Product Explorer window. Be aware that so far SNAP is not saving this subset as a new image. It only defined the subset on the \"meta-data\" level. The actual processing and subsetting of the bands will only take place, once the image is saved to a new file. </p> <p>Before we can actually save the image to a geotif-file, we will have to conduct one additional pre-processing step. We have to resample either the 10 m bands to 20 m or the 20 m bands to 10 m to have the same spatial resolution for each raster layer.</p> <p>To do this we select</p> <p>Raster \u21d2 Geometric \u21d2 Resampling</p> <p>as shown in Figure 17.</p> <p> Figure 17: Opening the resampling tool in SNAP</p> <p>In the appearing window, we select the \"Resampling Parameters\" section and chose the option \"By reference band from source product\" - here we can now either select a band with 10 m spatial resolution or 20 m spatial resolution and all other bands will be resampled to this resolution (if necessary). In my case, I select a band with 10 m spatial resolution (Band 2).</p> <p> Figure 18: The resampling tool in SNAP</p> <p>The resampling method is set to \"Nearest\" to not induce any changes to the measured values.</p> <p>We confirm by pressing \"Run\".</p> <p>After pressing \"Run\", immediately a new image product will appear in the Product Explorer window. We will select this new product as shown in Figure 19 and then, as final step, export this image product to a geotif-file.</p> <p> Figure 19: Select the subsetted and resampled image to export it in a geotif file </p> <p>For this we select the option</p> <p>File \u21d2 &gt; Export \u21d2 GeoTIFF / Big TIFF</p> <p>as shown in Figure 20.</p> <p> Figure 20: Select the subsetted and resampled image to export it in a geotif file </p> <p>In the appearing dialogue, we enter a filename and press \"Export product\" (as shown in Figure 21). Now the actual processing of the image starts. Hence, this whole procedure may take a while since all of the steps defined above, that is, subsetting the image, reampling the image and saving the image to a Tiff-file will now all be performed one after the other.</p> <p> Figure 21: Export the Sentinel-2 image to a geotif file </p> <p>If you want to make sure that everything has worked fine, you can load the exported Geotif-file in QGIS and visualize it as a RGB image as you have learned in during earlier lectures of the course. </p>"},{"location":"planetary-sciences-tutorials/01-download-ls-and-s2/#exercises-for-rs-tutorial-1","title":"Exercises for RS tutorial 1","text":"<ol> <li> <p>Identify the physical unit and scaling of the Landsat and Sentinel-2 image you have downloaded.  That is, you have to report </p> </li> <li> <p>whether the spectral information is for example saved as \"digital numbers\" / \"radiance\" / \"top of atmosphere reflectance\" / \"surface reflectance\" etc. </p> </li> <li>What the numbers of the raster cells mean - they could for example be reflectance values scaled between 0 and 10000 where 10000 = 100% reflectance, or they could be raw digital numbers between 0 and 255.</li> </ol> <p>To answer this question, you will most likely have to read the product guides of the Sentinel-2 and Landsat products you have downloaded</p> <ol> <li>To prove that you have completed the tutorial, please provide two Screenshots showing the Landsat and Sentinel-2 image in a color-composite (either RGB or CIR) in QGIS. RGB would be the impression we have with our eyes (Red =&gt; Red, Green =&gt; Green, Blue =&gt; Blue) and in the CIR mode the channels are assigned as follows: Red =&gt; Near Infrared, Green =&gt; Red, Blue =&gt; Green.</li> </ol>"},{"location":"qgis-tutorials/","title":"QGIS Tutorials","text":"<p>This repo contains nine tutorials from Fabian Fassnacht to get you started with QGIS. You can either work through them by opening them in your browser or by cloning the repo to your local computer (see below).</p> <pre><code>git clone https://github.com/Remote-Sensing-at-FU-Berlin/qgis-tutorials.git\n</code></pre> <p>If you re-distribute this tutorial series, please acknowledge the original author with the following citation:</p> <p>\"QGIS Tutorials\" (https://github.com/Remote-Sensing-at-FU-Berlin/qgis-tutorials) by Fabian Fassnacht. The tutorial series is licensed under CC BY SA 4.0.</p>"},{"location":"qgis-tutorials/01-GUI/","title":"QGIS","text":""},{"location":"qgis-tutorials/01-GUI/#tutorial-1-getting-to-know-the-qgis-graphical-user-interface","title":"Tutorial 1 - Getting to know the QGIS graphical user interface","text":"<p>Abstract  After completing this tutorial, the participant has an understanding of the Q-GIS graphical user interface, knows how to activate and deactivate windows, is familiar with the QGIS-toolboxes and is able to set the language of QGIS.</p> <p>Developed with QGIS version - Bialowieza 3.22.5</p>"},{"location":"qgis-tutorials/01-GUI/#1-setting-the-language-of-qgis","title":"1 Setting the language of QGIS","text":"<p>Before starting to work with QGIS we will set the language settings of QGIS to English. This is necessary as all descriptions of the Tutorials will refer to the english QGIS version. Working in another language might cause unnecessary confusions. To switch the language to English, we first start QGIS by double-clicking the desktop icon called QGIS Desktop 2.x.x with GRASS 7.x.x\" (in your case the x-es will be some numbers indicating the QGIS version you have installed on your computer). Alternatively you can start QGIS from the start menu of your computer - the exact way how to do this varies with operating system and the Linux/Windows/Apple operating system version you have installed - but it is assumed that you know how to start a program on your computer. </p> <p>Then within QGIS, we open the \"Settings\" menu in the main menu bar of QGIS and select -&gt; \"Options\" as shown in Figure 1.</p> <p></p> <p>Figure 1: Open the settings menu</p> <p>This will open a new window as shown in Figure 2. In this new window we check the \"override system locale/System-Locale \u00fcbersteuern\" box at the top of the window and then select \"American English\" / \"English United States\" from the drop down menus marked with 1 in Figure 2. Then we press \"OK\" and completely close QGIS. When we now restart QGIS, the language should have switched to English and we are ready to start with the Tutorials.</p> <p></p> <p>Figure 2: Change the language settings</p>"},{"location":"qgis-tutorials/01-GUI/#2-the-graphical-user-interface-gui-of-qgis","title":"2 The Graphical User Interface (GUI) of QGIS","text":"<p>Figure 3: The QGIS graphical user interface</p> <p>After opening QGIS and selecting a new project, the graphical user interface of QGIS will look as demonstrated in Figure 3. Depending on whether you already worked in QGIS before, some windows/docks might be missing or additional ones are shown. How to open or close certain windows will be addressed in section 3 of this tutorial. In Figure 3, the most important section of the QGIS GUI are marked with red numbers. A brief description on each of these sections is given in Table 1.</p> <p>Table 1: Brief description of the individual window sections in QGIS as shown in Figure 3. | QGIS section | Description  | |--|--| | Section 1 |This is the main visualization screen or window in QGIS. Once data is loaded, the files will be displayed here.  | | Section 2 |This is the Layer Window. All loaded geodata will be displayed in this window in form of a single layer. The order of the listed layers determines their order in the visualization screen. Layers that are above other layers, will also be dis played above them. Right-clicks on the layers enable multiple direct actions that can be applied to the layers and additionally provide access to further dialogues to change the visualisation of the layer or access its detailed properties.  | | Section 3 |This is the main file menu of QGIS where all options of the program that are not included in toolboxes can be accessed.  | | Section 4 | This is the standard tool bar of QGIS. Most frequently needed tools like saving, navigating in the visualization screen or selecting data are provided. | | Section 5 | This is the Vector-editing tool bar. It is required to change vector files (for example shapefiles). These changes can include for example adding new or editing existing spatial objects (polygons/lines/points) to or in an existing shapefile. | | Section 6 | This is the toolboxes-window. Here all analysis tools of QGIS and official add-ons (including for example GRASS GIS and SAGA GIS). The toolbox window has a search option on the top. Most analysis steps (except for visualiza-tion settings) are conducted with the tools provided in these toolboxes. | | Section 7 | This is the browser window where you can easily search your files and drap &amp; drop it to the Layer window below to load the geodata to QGIS |</p>"},{"location":"qgis-tutorials/01-GUI/#opening-closing-and-arranging-windows-docks","title":"Opening, closing and arranging windows / docks","text":"<p>Closing one of the windows (for example Section 2, 8 or 6) is accomplished by simply clicking the \"x\" symbol on the top right of a window.</p> <p>As a first exercise try to close section 2 and 7 by clicking the \"x\" symbols in the top right of the windows. </p> <p>As a result only the visualization window in the center (Section 1 - which cannot be closed) and the toolbox window (Section 6) remain open. As one of the key-actions in each GIS-project is the re-arrangement of Geodata-layers in the Layer window, we should now re-open the Layer window. This is a bit more complicated than closing it. To achieve this we have to </p> <p>select \"View\" in the main file menu (Section 3) -&gt; Panels -&gt; Layer panel (Figure 4 ). </p> <p>Now the Layer window should re-appear.</p> <p></p> <p>Figure 4: Re-opening a closed window</p> <p>The same procedure can be repeated for any (accidentally) closed window/panel. As you can see in the file menu there are numerous panels available that are not used by default in QGIS. Some of the available panels might be helpful depending on how you work in QGIS. For example you can try to activate the \"Statistics\" window. Once data is loaded, it will give you the option to display some statistical summaries of the information on the currently selected layer.</p> <p>As a next exercise we will learn how to rearrange panels in the QGIS GUI. Panels can be arranged by simple clicking and draging any panel in the grey bar on top of the panel depicting its title. By doing this, panels locked to the sides of the GUI-space can be released and positioned at another place. To lock the panel on one of the sides of the GUI, the panels have to be dragged to the corresponding side until they lock. Try to rearrange the currently open panels by positioning the Layer panel on the right side and the toolbox window to the left side of the GUI. This should result in a GUI as depicted in Figure 5.</p> <p></p> <p>Figure 5: The QGIS GUI after re-arranging windows</p>"},{"location":"qgis-tutorials/02-vector-data/","title":"QGIS","text":""},{"location":"qgis-tutorials/02-vector-data/#tutorial-2-loading-and-visualizing-shapefiles-vector-data","title":"Tutorial 2 - Loading and visualizing Shapefiles / Vector data","text":"<p>Abstract  After completing this tutorial, the participant knows how to load a Shapefile (vector file) and how to make use of the visualization options in QGIS to adapt the colours, symbols and format of the spatial features (points, lines, polygons) contained in the shapefile. You will additionally learn how to save a QGIS project.</p> <p>Developed with QGIS version - Bialowieza 3.22.5</p>"},{"location":"qgis-tutorials/02-vector-data/#download-data-for-the-tutorial","title":"Download data for the tutorial","text":"<p>For this and the subsequent tutorials you will need to work with some geodata. Please download the data required for this tutorial here:</p> <p>Download data for Tutorial 2</p> <p>This zip-file contains two ESRI Shapefiles (vector-data) - the first one named \"gis.osm_landuse_a_free_1.shp\" contains a land-use dataset of Southern Italy and the second dataset is a global dataset named \"newsweek_data.shp\" which contains some demographic information for each country of the Earth.</p> <p></p> <p>Figure 1: Files contained in the zipped file for Tutorial 2</p> <p>Both shapefiles consist of several data files as shown in Figure 1. You will learn why a single shapefile consists of multiple datafiles later on in the course.</p>"},{"location":"qgis-tutorials/02-vector-data/#1-loading-a-shapefile-vector-file-in-qgis","title":"1 Loading a Shapefile (vector file) in QGIS","text":"<p>After opening QGIS and selecting a new project, the graphical user interface of QGIS will look as demonstrated in Figure 2. In Figure 2, we can use the browser window to navigate to the folder which contains the files we have just downloaded. Then we can open the file \"gis.osm_landuse_a_free_1.shp\" by simply dragging and dropping the file in the layer window (marked with 2 in Figure 2).</p> <p></p> <p>Figure 2: Openning a Shapefile in QGIS</p> <p>This will open the selected shapefile and automatically display it in the main window of QGIS (Section 1 in Figure 1). You should now see something similar to Figure 3. The colours will most likely differ from the ones displayed in Figure 3 as QGIS randomly assigns a colour to each newly loaded shapefile (vector file). How colours can be adapted and how the attributes stored in shapefiles can be used to colour-code and format individual spatial objects (polygons, lines, points) will be explained in the next section.</p> <p></p> <p>Figure 3: After opening the shapefile in QGIS</p>"},{"location":"qgis-tutorials/02-vector-data/#basic-visualization-of-shapefiles-in-qgis","title":"Basic visualization of Shapefiles in QGIS","text":"<p>As next step we will change the colour of the complete loaded Polygon-shapefile by using the properties dialogue that is available for each dataset loaded into QGIS. In order to do this either double click the entry of the shapefile-layer in the layer window of QGIS as shown in Figure 4 or alternatively perform a right-click on the same layer and from the appearing text menu select \"properties\" .</p> <p></p> <p>Figure 4: Double-click the Shapefile layer</p> <p>This will open a new window as displayed in Figure 5 with many functionalities. In this tutorial we will focus on the options to adapt the visualization settings of the vector file. To open the corresponding tab in the window select the tab \"Symbology\" (the corresponding tab may have also been opened as standard setting). </p> <p></p> <p>The properties window with the \"Symbology\" tab activated. The latter allows to modify the the visual appearance of the vector file in numerous ways</p> <p>We will now explore five options to adapt the visual appearance of the shapefile. Everytime we conducted a change and want to see the effects on the visualization in the main QGIS window we have to first confirm our choice by clicking \"apply\" and then press \"ok\" to close the \"properties\" dialogue window. We can later return to the properties dialogue by repeating the steps described above, that is by double-clicking the shapefile-layer as indicated in Figure 4 or by performing a right-click and selecting \"Properties\". The first adaptation that we will try out is to change the colour of the whole Shapefile. In order to do this first click the area marked with \"1\" in Figure 6. This will change the available options in the tab. Then click \"Fill color\"-area marked with \"2\". A new window will open from which you can select any colour you want. Select a colour, press \"OK\", then \"Apply\" and \"OK\" again. </p> <p>You will see that the colour of the shapefile has changed to the colour you selected.</p> <p></p> <p>Figure 6: Changing the colour of the complete shapefile</p> <p>As a second option we will explore how to not only assign a new colour but also change the style and colour of the outline and the filling of the polygons. to change the fill-style of the polygons</p> <p>we first click the area named \"Fill\" and marked with 1 in Figure 7. Then we can select any fill type we want from the list of option provided below. We could for example select a quite complex pattern such as the one marked with 6. Then, we can further customize the pattern of the filling and also the outline of each polygon by clicking through the areas marked with 2, 3, 4 and 5 and modify colors or line widths etc.</p> <p></p> <p>Figure 7: Changing the fill pattern and the colour of the outline of the shapefile </p> <p>Please try out a few different settings and have a look how they affect the visualization in the main windows after you pressed the \"apply\" button and closed the \"properties\" dialogue by clicking \"OK\".</p> <p>You should now be able to adapt the visualization of a shapefile as a whole, that is all spatial objects in the Shapefile are displayed with the same visualization parameters. However, in many cases a shapefile does not only contain a single class of interest but several ones. For example our currently loaded shapefile contains information about the land cover classes of the depicted areas. So we know where in the area covered by the shapefile we can find industrial areas, cemeteries, parks or residential areas. We might be interested in visualizing this also in the map. We could for example give a green colour to parks while we could assign a grey or red colour to areas covered with residential areas or industry. In the next Section, we will learn how this can be accomplished with QGIS.</p>"},{"location":"qgis-tutorials/02-vector-data/#3-using-information-from-the-attribute-table-of-the-shapefile-to-colour-code-classes-within-a-single-shapefile","title":"3 Using information from the attribute table of the shapefile to colour-code classes within a single shapefile","text":"<p>To make sound use of the information stored in the attribute table, we need to first understand what information is contained in the attribute table. So let us have a look at the table by</p> <p>right-clicking on the shapefile-layer and selecting \"Open Attribute Table\" as demonstrated in Figure 8</p> <p></p> <p>Figure 8: Opening the attribute table of the shapefile</p> <p>This will open the attribute table of the Shapele in a new window. The window will approximately look like the window shown in Figure 9.</p> <p></p> <p>Figure 9: The attribute table of the gis.osm landuse a free 1 Shapefile</p> <p>As you can see there are four columns available in the attribute table of our Shapele: \"osm id\", \"code\", \"fclass\" and \"name\". Here, the osm id is a unique identifier number assigned by the Open Street Map system which is the data source for our Shapefile. This identifier makes each object in a given Open Street Map dataset clearly identifiable. The code \"field\" shows a land cover code for each object in the Shapefile. It basically is a numeric description of the next field \"fclass\" where a descriptive term for the land cover type is given. In Figure 9 you can for example see that all polygons assigned to the class \"park\" have the code \"7202\". Finally, there is another column called name which indicates an offi\u000ecial name for the given polygon. For example the name of a park or a cemetery. In the next step, we will now make use of the information stored in the fclass column to assign meaningful colours to the individual land cover classes. In order to do this</p> <p>we first open the shapefile properties dialogue, as explained above and select the style tab. Then we press the drop-down menu marked with \"3\" in Figure 6. Here we select the option \"categorized\". This will lead to the window shown in Figure 10. Here, we can now use the drop-down-menu marked with \"1\" to select the column from the attribute table which we want to use to colour-code our spatial objects in the Shapele. Here, we will select the class \"fclass\" and then confirm the choice by pressing the \"classify\" button marked with \"2\" in Figure 10.</p> <p></p> <p>Figure 10: Colour-code the polygons of the Shapefile using the attribute table</p> <p>This will lead to a situation similar to the one depicted in Figure 11. The colours are again likely to be dierent as QGIS selects the colours randomly. We can now assign meaningful colours to each of the land-cover types by double-clicking any of the colour boxes marked in Figure 11. In the new pop-up dialogue we can assign a new colour and also make more detailed changes to the format of the filling and the outlines by selecting \"simple fill\" and use the then appearing properties as shown in Figure 12.</p> <p></p> <p>Figure 11: Visualization options for displaying categories</p> <p></p> <p>Figure 12: Colour and format selection for each land cover class</p> <p>You should now be able to load and visualize a Shapefile by either changing the style for the whole Shapefile or classify and colour-code the spatial objects of the Shapefile to some discrete classes using information given in the attribute table. In the exercise of this Tutorial, you will find out how it is possible to colour-code the spatial objects of a Shapefile using attribute table information from an attribute with continuous values.</p>"},{"location":"qgis-tutorials/02-vector-data/#4-saving-a-qgis-project","title":"4 Saving a QGIS project","text":"<p>After learning how to adapt the visualization of a Shapele, you might want to know how you can save these settings for the next time you open QGIS. The easiest way to save the visualization settings but also all other things you have accomplished while working with your data in QGIS is to store the current situation as a QGIS-project. You can do this by </p> <p>selecting \"Project\" -&gt; \"Save as...\" from the main file menu of QGIS as shown in Figure 13. This will open a new dialoge where you can define an output folder and then enter a name for the QGIS-project and click \"save\" to save the file. QGIS-project files of the latest version of QGIS have the file format ending \".qgz\" while older versions used \".qgs\" as standard setting.</p> <p></p> <p>Figure 13: Saving a QGIS project</p> <p>After storing the project file it is possible to re-load the status of your QGIS project in the future by selecting \"Project\" -&gt; \"open\" from the main file menu and then navigating to the \".qgz\" file that you have stored earlier. Alternatively, you can also double-click this file in the Windows Explorer (or similar data explorer apps in Linux or MacOS environments). This will automatically load QGIS and the project. It is important to understand, that the QGIS project-files themselves do not contain any geodata. Project files only store links to the data which are stored on the hard disk of your computer. That means if you delete or move your files to another folder while QGIS is closed and then want to re-open the QGIS-project you had been working on, QGIS will tell you that some of the files of the project cannot be found anymore and they will not displayed in the project. So again: project files only remember the visualization options, the layer order, and which windows and toolboxes were opened when you stored the project file. It does not include the geodata itself! That is also why project files are typically rather small in size. But this also means that if you will send this project file to a colleague, she/he will not be able to see what you saw unless you are also sending all the geodata to her/him.</p>"},{"location":"qgis-tutorials/02-vector-data/#exercise-tutorial-2","title":"Exercise Tutorial 2","text":"<p>Amongst the files you downloaded you will find a shape file called \"newsweek data.shp\".</p> <p>Try do conduct the following exercises:</p> <p>(1) Load this dataset to QGIS and have a look at its attribute table. (2) Identify the column that contains information about the life expectancy across the different countries of the Earth. (3) Visualize the life-expectancy values for each countries using the \"Style\"-Tab of the \"Properties diaologue\" and the corresponding columns from the attribute table</p> <p>Some tips: Instead of using the option \"categorize\" use the option \"graduated\". As \"mode\" try out the option \"Natural jenks\"; try to also vary the number of classes and see how this affects the visualization.</p> <p>(4) Export the current view by selecting \"Project\" -&gt; \"Save as Image\" from the main menu of QGIS (Figure 14). This will be the proof that you completed the Tutorial.</p> <p>General advice: Don't be shy to try out a few different options and settings!! This is the only way to learn how things work.</p> <p></p> <p>Figure 14: Save current map view as image</p>"},{"location":"qgis-tutorials/03-raster-data/","title":"QGIS","text":""},{"location":"qgis-tutorials/03-raster-data/#tutorial-3-loading-and-visualizing-raster-data","title":"Tutorial 3 - Loading and visualizing raster data","text":"<p>Abstract  In this Tutorial we will learn how to load and visualize raster files in  QGIS. The concept of histograms and which role they play for adapting the visualization of raster datasets in QGIS will be explained. As example dataset we will make use of a satellite image of the satellite sensor Sentinel-2.</p> <p>Developed with QGIS version - Bialowieza 3.22.5</p>"},{"location":"qgis-tutorials/03-raster-data/#download-data-for-the-tutorial","title":"Download data for the tutorial","text":"<p>For this and the subsequent tutorials you will need to work with a Sentinel-2 satellite image. Please download the data required for this tutorial here:</p> <p>Download data for Tutorial 3</p>"},{"location":"qgis-tutorials/03-raster-data/#loading-a-raster-file-in-qgis","title":"Loading a raster file in QGIS","text":"<p>Similarly as learned in the last tutorial, we can open a raster file by simply dragging and dropping the file from the browser-window to the layer window (see Figure 1). </p> <p></p> <p>Figure 1: Opening a raster file via drag and drop in QGIS</p> <p>Alternatively, we can also use the main file-menu of QGIS to add a raster file / raster layer as seen in the Figure 2. This option was not described in the previous tutorials on vector files, but this also works with vector files.</p> <p></p> <p>Figure 2: Opening a raster file via the file menu of QGIS</p> <p>If you chose the option to use the file menu, a new window will pop-up and you will then have to select the path to the raster file you want to open by clicking the button marked with 1 in Figure 3.</p> <p></p> <p>Figure 3: Open file dialogue menu of QGIS</p> <p>Once we have successfully opened the raster file, it should be displayed in the main visualization window of QGIS, similarly as shown in Figure 04.</p> <p></p> <p>Figure 4: View after loading the raster file</p> <p>The opened raster dataset is a satellite scene from EU's Sentinel-2 satellite. QGIS will automatically select a visualization setting of the raster dataset based on the statistics of a few randomly selected pixels. However, in most cases these settings will not be optimal. So do not worry if the displayed raster seems to be very dark or with strange colors when using other datasets. In some cases it might even look completely black but still contain relevant data which will only show up after the visualization has been optimized. In our case the first impression should already be quite good, eventhough, it is not yet a realistic true-colour visualization (which describes a visual impression similar to what we see with our eyes). In the next section we will learn how the achieve this.</p>"},{"location":"qgis-tutorials/03-raster-data/#rgb-visualization-of-raster-files","title":"RGB-Visualization of raster files","text":"<p>To better understand how the optimization of the visualization of raster files works, it is important to have a good understanding how raster files are structured. Raster files can be pictured as a grid of pixels where each pixel contains a value. The range of these values depends on the data source for the raster data. They could for example originate from a model simulation that predicted air temperature. Then each pixel might have a value between approximately -30 and +50 showing the air temperature above the Earth surface in Degree Celsius. The values might also contain information about the altitude above (and below) sea level and might then range from -413 m (deepest point below sea level on a land surface, an area close to the Dead sea) to 8848 m (top of the Mount Everest).  In our case, the raster dataset stems from a satellite sensor which measures the amount of electromagnetic radiation reflected in certain wavelengths of the electromagnetic spectrum. In simpler words, one could say that the satellite sensor measures the amount of different colours (careful - this is a very simple way of putting it and physically not really correct) at certain locations (pixels) on the Earth surface and then stores this information into individual raster layers (see Figure 5). In our case, the satellite raster dataset consists of 10 raster layers that store information on how much blue, green and red light (and some additional colours that humans cannot see with their eyes) have been reflected in the different areas of the Earth surface that were observed by the satellite. Each raster layer contains information on one colour. Hence, our raster dataset can be pictured as a stack of individual raster layers or images which will be called \"bands\" or \"channels\" in the following (Figure 6).</p> <p></p> <p>Figure 5: Structure of raster data</p> <p></p> <p>Figure 6: Raster stack</p> <p>In QGIS we can always only use either just one band - Render type: Single band gray (render type can be selected in drop-down menu marked with \"1\" in Figure 8) or a set of three bands - Render type: Multiband color (also known as \"RGB-composite\") - to create a visualization of the raster dataset. This is related to the way computers create colours on the screen. Basically, there are only three colours: red, green and blue which are then mixed on a very fine scale to create a visual impression of all colours that we see on the screen. During the visualization optimization we tell QGIS which three bands of the raster dataset should be used to create red, green and blue colours on the screen. </p> <p>So let us try this with our satellite image. To change the visualization settings of the loaded raster data,</p> <p>we either perform a right click on the raster layer in the layer window of QGIS and select properties or alternatively, we can perform a double-click on the same layer. This will open up the properties window, where we will select the \"Symbology\" tab. (marked with the red box in Figure 7)</p> <p></p> <p>Figure 7: Raster symbology window of QGIS</p> <p>Now we will assign the satellite bands which collected information on blue, green and red colours to the corresponding channels of QGIS. The red channel of QGIS (marked with \"2\" in Figure 7) is currently assigned to Channel 1. We will now change this by</p> <p>Clicking the drop down menu for the \"Red Band\" (marked with \"2\" in Figure 7) and select Band 03, which corresponds to the band of the satellite that collected information on electromagnetic radiation that corresponds to red light. Analogously, we will select Band 02 for the \"Green Band\" of QGIS (marked with \"3\" in Figure 7 normally, this channel should already be correct) and then Band 01 for the \"Blue band\" of QGIS (marked with \"4\" in Figure 7). Then we select \"Apply\" and then \"OK\" to see how this changes the visualization of the image (Figure 8).</p> <p></p> <p>Figure 8: View after adjusting the settings</p> <p>In the new visualization (as seen in Figure 8) we can see that the colours on the land surface of the satellite image look more natural to us now. However, we can also see that the sea surface seems to be very dark and not blue as we might have expected. This relates to the fact that water has very low reflectance values across all wavelengths (\"colours\") and typically appears very dark in satellite images as it absorbs most of the incoming radiation/energy/light. This raises the question whether we can increase the information content for these areas by adjusting the settings some more. Let's try!</p> <p>To do this,</p> <p>We return to the \"Properties\" window and select the \"Symbology\" tab. Now we will click the area marked with \"6\" in Figure 7 to open some additional options to load minimum and maximum values for each raster layer as depicted in Figure 9.</p> <p></p> <p>Figure 9: Raster symbology window in QGIS - advanced settings</p> <p>There are three options available to automatically derive minimum and maximum pixel values between which the available range of colours intensities will be spanned. These minimum and maximum values are marked with \"1\" in Figure 9. To estimate the minimum and maximum values, QGIS uses a set of random pixel values that it collects in the image. Then it applies some statistics on the pixel values to understand how the pixel values are distributed in the value range. The three options to calculate the statistics are \"cumulative count cut\", \"min / max\" and \"mean +/- standard deviation\" (box marked with \"2\" in Figure 9).</p> <p>So why do we have to use such statistics to improve the visualization? This can be explained best using a histogram. A histogram shows the distribution of values of a dataset by plotting the frequency of values occurring in a defined value range on the y-axis and the value ranges themselves on the x axis. In Figure 10 an example for a histogram of the pixel values of a raster image is shown. In the upper part of Figure 10 one can see the histogram of the full value range of the raster image with values between 0 and 255 (which would indicate an eight bit image). In this histogram one can clearly see that there are hardly any very low values (close to 0) and also hardly any very high values (close to 255), while most values accumulate in the middle of the value range (between around 60 and 180).</p> <p></p> <p>Figure 10: A histogram of raster values</p> <p>So how would QGIS now translate these values into colours? Assuming QGIS is attempting to visualize a single raster layer with pixel values as indicated in Figure 10 it would conduct the following steps: Pixels having a value of 0 will be set to the colour black and pixels having the maximum value of 255 will be set to the colour white. All pixels with values inbetween will receive a grey value that is darker if the value is low (closer to black) and brighter if the value is high (closer to white).</p> <p>If such a translation between the minimum and maximum value is conducted based on the full value range, most pixels of the image will be displayed in intermediate grey levels, while there will be hardly any white or black pixels (as there are hardly any pixels having values close to 0 or to 255). That means the visualization will loose a lot of so called \"contrast\" in the image. To avoid this, it is possible to adapt the value range displayed on the screen in QGIS. With this step, the \"extreme\" values to which black and white colours are assigned will be newly assigned. In the bottom of Figure 10 this is done by setting the minimum value (corresponds to black) to 60 and the maximum value (corresponds to white) to 180. Now the histogram is \"stretched\" and we would see the full range of colours between black and white in the image with a maximized contrast.</p> <p>The same procedure is applied in QGIS when changing the Min and Max values of the three bands (section marked with \"1\" in Figure 9). As said before, this can be done automatically by using the three options to calculate statistics based on some pixel values or it can also be accomplished by editing the min and max values manually. You could for example change the \"Min\" values of all bands to a higher values and see how this affects the visualization of the image. In the next step, we will learn a standard-procedure to adapt these settings.</p> <p>We will now adapt the value ranges of the three channels of our satellite image using the standard statistical approach. We do this by</p> <p>selecting the option \"mean +- standard deviation\" and keeping the default settings. We confirm by pressing \"Apply\" and \"OK\".</p> <p>This will result in the image shown in Figure 11</p> <p></p> <p>Figure 11: View after adjusting the image stretch</p> <p>The colour of the sea has turned from very dark or black to blue which may match better what we would expect to see. However, one can also see that the land surface areas seems to be quite bright now compared to the sea. So adjusting visualization options is often a compromise and it might not be possible to show all areas/surface types in their optimal settings at the same time.</p> <p>In the new visualization settings, the sea appears blue but also shows some more details in compared to the earlier two visualization settings. However, might there be ways to further  adapt the visualization to see even more details of the sea? </p> <p></p> <p>Figure 12: The zoom tool of QGIS</p> <p>Indeed there are! One solution is to adapt the value range again but this time only considering pixels from the sea. In QGIS, there is one option to do this which we will explore as next step. First, we use the zoom-tool of QGIS (marked in Figure 12) to zoom into an area where only sea is visible by</p> <p>clicking the \"zoom\" tool-button and then dragging a square within an area of the image which is only covered by the sea. This will lead to a view where only blue areas are visible in the QGIS visualization window (as shown in Figure 14). Next, we will repeat the steps to optimize the value ranges as we have learned before. That is, we will open the properties window, select the \"symbology\" tab and open the option to automatically estimate minimum and maximum values by clicking the area marked with \"6\" in Figure 7. The only thing we will do difffferent this time, is that we will change the dropdown menu marked with 3 in Figure 9 from \"Whole Raster\" to \"Current canvas\". Then we will press \"Apply\" and then \"OK\" and close the Properties window.</p> <p></p> <p>Figure 13: View after applying the zoom tool to zoom into an area only covered by the sea</p> <p></p> <p>Figure 14: View after optimizing the visualization settings for the sea</p> <p>The will lead to a new visualization as shown in Figure 14. As you can see, the formerly uniformely blue image turned into a quite colorful image where lots of fine details about the sea surface became visible. By activating the \"Current canvas\" option, QGIS calculated the statistics only for pixels located in the currently visible part of the image. That is, only sea pixels were considered to derive the min and max values. If you now use the \"zoom-out\" button, located next to the \"zoom-in\" button, you can see that all the other areas in the image are very bright and no details can be seen anymore in these areas (Figure 15). This is because all of the land-surface areas have notably higher pixel values than the pixels located in the sea and are hence mostly assigned the maximum value of the defined range. You can also re-open the properties window and the style tab and have a look at the current value.</p> <p> Figure 15: View of the full image after the adaptation of the visualization options to improve the level of details displayed in sea areas</p>"},{"location":"qgis-tutorials/03-raster-data/#exercise-tutorial-3","title":"Exercise Tutorial 3","text":"<p>To practice a bit more raster visualization options, try do conduct the following exercises:</p> <p>(1) Change the multi-band visualization by assigning other bands of the satellite image to the red, green and blue channel of QGIS. For example you can try the combination Red Channel: 6 Green Channel: 3 and Blue Channel 2. This is the so called color-infrared-view where the red channel is replaced by near-infrared information which makes the vegetation appears in red colours in the image. </p> <p>(2) Zoom to the extent of the satellite image and export the current view by selecting \"Project\" -&gt; \"Save as Image\" from the main menu of QGIS (Figure 16). This will be the first proof that you completed the Tutorial.</p> <p></p> <p> Figure 16: Save current view to image</p> <p>(3) Try to switch the render type from \"multi-band color\" to \"single-band gray\" and compare the gray values of band 3 and band 6 of the raster dataset. What do you see? Are there any differences in the patterns you observe? Give some short descriptions of you observe - you can export images with the same procedure as explained in step (2). This should with your explanations. This will be the second proof that you completed the Tutorial.</p>"},{"location":"qgis-tutorials/03-raster-data/#reference-tutorial-3","title":"Reference tutorial 3","text":"<p>Figure 6: http://desktop.arcgis.com/en/arcmap/10.3/manage-data/raster-and-images/GUID-4F5A176A-D52A-4F07-9C2E-9922C1B6097D-web.gif Figure 7: http://neondataskills.org/images/dc-spatial-raster/single_multi_raster.png Figure 11: Adapted from: http://www.uky.edu/kiernan/eBeoarchives/articles90s/images/fig3/ksk-llc.gif</p>"},{"location":"qgis-tutorials/04-general-tools/","title":"QGIS - Tutorials","text":""},{"location":"qgis-tutorials/04-general-tools/#tutorial-4-useful-general-tools-in-qgis","title":"Tutorial 4 - Useful general tools in QGIS","text":"<p>Abstract After completing this tutorial you will know how to navigate efficiently in the main visualization window of QGIS. You will be able to arrange and directly zoom to layers, add transparency to a layer, measure distances in the visualization window, and obtain information on a pixel or a spatial object. Developed with QGIS version - Developed with QGIS version - Bialowieza 3.22.5</p>"},{"location":"qgis-tutorials/04-general-tools/#1-efficient-navigation-in-the-visualization-window-of-qgis","title":"1 Efficient navigation in the visualization window of QGIS","text":"<p>In the last tutorials we have learned how to open and visualize raster datasets as well as vector datasets. Now we will learn how we can navigate within the main visualization window of QGIS. We already got to know the \u201czoom-tools\u201d in the last Tutorial. We will now add some more tools and procedures that make life easier when navigating in QGIS. </p> <p>To learn about these functionalities, we first have to load some data. In this case we will use the same data we already know from the two preceding Tutorials. So to start</p> <p>we load the raster dataset \u201cS2 Neapel sm2.tif\u201d and the Shapefile \u201cgis.osm landuse a free 1.shp\u201d in the same way as you have already learned in Tutorial 2 and 3. First load the raster dataset and then the shapefile.</p> <p></p> <p>Figure 1: Overview of the tools we will get to know today</p> <p>This will lead to a situation that looks like illustrated in Figure 1. We will now learn what we can do with the buttons marked in Figure 1. A brief overview of the functionalities of each button is summarized in Table 1.</p> <p>Table 1: Overview of most important buttons to navigate and measure in QGIS | Button Nr | Brief description | |--|--| | Button 1 | This is the \u201cpan\u201d button which allows you to easily navigate through the QGIS visualization window without changing the zoom-level. | | Button 2+3 | These are the \u201czoom-buttons\u201d. They can be used to change the zoom level of the visualization window. | | Button 4 | This is the \u201cinfo-button\u201d. With this button you can obtain information on a pixel of a raster layer or a spatial object stored in a vector file. | | Button 5 | This is the \u201cmeasure-tool\u201d. It can be used to measure distances, angles and areas within the main visualization window. | | Button 6 | This is the \u201c\u2018select-tool\u201d. It allows to select an individual or several spatial objects from a vector file. | | Button 7 | This button allows to zoom to the currently selected spatial object. | | Button 8 | This is the \u201czoom-to-full-extent\u201d button. </p> <p>So let us try out the different buttons with the loaded data. First,</p> <p>select the \u201cpan-button\u201d (marked with \u201c1\u201d in Figure 1), navigate the cursor over the main visualization window and then click and hold the mouse button and simultaneously drag the mouse cursor to navigate within the visualization window. Repeat this step until you have reached an area where there is not data to be visualized anymore.</p> <p>Now you are more or less \u201clost\u201d and you would like to return to the area where your data is located. So in order to do this, we will learn an additional function hid in the \u201cright-click menu\u201d of each layer. So what we do next is</p> <p>perform a right-click on the \u201cS2 Neapel sm2\u201d layer as listed in the layer window of QGIS, then select the first option in the menu which is called \u201cZoom to Layer\u201d.</p> <p>You will see that QGIS will now automatically returns to the extent of the \u201cS2 Neapel sm2\u201d layer. This is a very useful tool that you will probably use frequently.</p> <p>OK, now we have learned how we can directly zoom to the extent of a loaded layer. However, we might also want to zoom-in to a specific subset of our study area. We can do this by</p> <p>selecting the \u201czoom-in\u201d button marked with \u201c2\u201d in Figure 1 and then either click on the area where we want to zoom-in or alternatively click and drag the mouse curson to form a rectangle to which QGIS will then zoom in. A further alternative to using the \u201czoom-in\u201d button is to simply use the mouse\u2013wheel. If you navigate the mouse cursor over the main visualization window and rotate the mouse-wheel you will directly see the zoom\u2013effect.</p> <p>In case you want to zoom-out again, you have several options to do this. We have already learned to use the right-click on one of the layers to select the option \u201cZoom to Layer\u201d, alternatively we can either</p> <p>use the \u201czoom-out\u201d button marked with \u201c3\u201d in Figure 1 or we can also use the \u201czoom to full extent\u201d button marked with \u201c8\u201d in Figure 1. If we click this button QGIS will zoom out to a view where all currently loaded layers are completely displayed. Try it out!</p> <p>As a last alternative for zooming, we will now learn how to first select a specific spatial object in a vector file and then zoom-in to this object. To achieve this,</p> <p>select the \u201cselect Features\u201d button marked with \u201c6\u201c in Figure 1. Then click on one of the polygons of the \u201cgis.osm landuse a free 1\u201d layer. You have to make sure that the \u201cgis.osm landuse a free 1\u201d layer is currently activated/selected in the layer window of QGIS. Otherwise, the button might be greyed out.</p> <p></p> <p>Figure 2: Selecting a spatial object in QGIS</p> <p>This will lead to a situation similar to the one presented in Figure 2. Here, a polygon located close to the volcano was selected and is now highlighted with yellow color. As next step, we</p> <p>press the \u201czoom to selected object\u201d button marked with \u201c7\u201d in Figure 1</p> <p>QGIS will now zoom-in to the selected object as seen in Figure 3.</p> <p></p> <p>Figure 3: Zooming in to a selected spatial object</p> <p>You are now able to efficiently navigate within the QGIS visualization window. In the next sections we will learn three more useful general tools of QGIS that you will most likely often use.</p>"},{"location":"qgis-tutorials/04-general-tools/#2-arranging-layers-and-adding-transparency","title":"2 Arranging Layers and adding transparency","text":"<p>If you have followed the recommendation above to first load the raster file and then the shapefile, the raster layer is currently displayed below the shapefile. If we want to change this, we can re-arrange the layers in the layer window of QGIS. To do this, we simply</p> <p>click and hold the \u201cgis.osm landuse a free 1\u201d layer and drag it below the \u201cS2 Neapel sm2\u201d layer.</p> <p>You will see that this will shift the vector file below the satellite raster data in the main visualization window (Figure 4).</p> <p></p> <p>Figure 4: Shifting the satellite layer to the top</p> <p>So, as quite inuitively understandable, the layer position in the layer window also always determines the order in which the layers are visualized. However, the visualization of a layer can also be completely deactived by unchecking the checkboxes on the left besides the name of the layers that are depicted in the layer window of QGIS</p> <p>In Figure 5 the layer containing the satellite raster layer was deactivated by unchecking the box. We will now re-activate the layer so that both datasets are visible.</p> <p></p> <p>Figure 5: Deactivating a layer</p> <p>Shifting the satellite data on top of the vector layer did not really improve the visualization situation as now all spatial objects overlaping with the satellite raster data became invisible. So we will now try to find a solution in which both datasets are displayed at the same time with a minimum loss of information due to the overlapping. To do this, we first</p> <p>rearrange the layer once more to have the satellite raster layer below the shapefile layer. Next we will right-click the \u201cgis.osm landuse a free 1\u201d layer and select \u201cproperties\u201d. In the appearing properties window we select the \u201cSymbology\u201d tab. As shown in Figure 6, we will now change the \u201cLayer transparency\u201d option in the \u201cLayer rendering\u201d section from 0 to 50 and accept the new settings with pressing \u201cApply\u201d and then \u201cOK\u201d.</p> <p></p> <p>Figure 6: Adapting the transparency settings of a layer</p> <p></p> <p>Figure 7: New visualization with the transparent Shapefile</p> <p>As visible in Figure 7 the \u201cgis.osm landuse a free 1\u201d layer is now displayed transparently and both datasets can be seen at the same time. Transparency can be added to any dataset loaded in QGIS except using the same dialogue as just described.</p>"},{"location":"qgis-tutorials/04-general-tools/#3-the-measuring-tool-in-qgis","title":"3 The measuring tool in QGIS","text":"<p>We will now have a look at the \u201cmeasure-tool\u201d which is marked with \u201c5\u201d in Figure 1. If you have a closer look at the button of the tool you can see that there is a small arrow pointing downwards next to the button symbol. If you press this arrow you can see that there are four options for the measuring tool:</p> <p>Measure Line To measure linear and non-linear distances Measure Area To measure areas of Polygons Measure Angle To measure angles between two lines and Measure Bearing to measure the horizontal angle of an object.</p> <p>To see how the tool works,</p> <p>we will first zoom-in to the vulcano displayed in the satellite raster file. Then we select the \u201cMeasure Line\u201d option of the tool and measure the East-West expansion of the vulcano as shown in Figure 8</p> <p></p> <p>Figure 8: Measuring the East-West expansion of the vulcano</p> <p>Next, we will switch to the \u201cMeasure Area\u201d option and measure the whole extent of the volcano by drawing a polygon around it as depicted in Figure 9. As marked in Figure 9 that unit can be changed by using the marked drop-down menu.</p> <p></p> <p>Figure 9: Measuring an area in QGIS</p>"},{"location":"qgis-tutorials/04-general-tools/#4-the-infobutton-in-qgis","title":"4 The info\u2013button in QGIS","text":"<p>Figure 10: Zoom in to the area marked with the red rectangle</p> <p>As last useful tool in this Tutorial, we will get to know the \u201cinfo-tool\u201d. This tool allows us to find out either the value of a pixel of a raster file or attributes of a vector file as stored in the attribut table. To see how the tool works, we</p> <p>will first zoom-in to the area marked with the red rectangle in Figure 10, then we select the \u201cinfo-button\u201d marked with \u201c4\u201d in Figure 1. Next, we select the \u201cgis.osm landuse a free 1\u201d layer in the layer window of QGIS and then click on a spatial feature of the Shapefile. QGIS will then display the attribute table information stored for this spatial feature in the new \u201cIdentify results\u201d window that has opened after activating the \u201cinfo-button\u201d tool. In Figure 11 you can see an example for this.</p> <p></p> <p>Figure 11: Retrieving attribute information using the info-button tool. </p> <p>The same procedure can be repeated for the raster file by</p> <p>first selecting the \u201cS2 Neapel sm2\u201d layer in the layer window of QGIS and then again using the \u201cinfo-button\u201d tool to click on any pixel of the raster dataset. All values of the 10 raster bands will then be shown in the \u201cIdentify results\u201d window. By switching the view-option from \"tree\" to \"graph\" as shown in Figure 12 you can visualize the spectrum of a given pixel</p> <p>You should now be familiar with the most important general tools of QGIS that will ease your daily life with handling and navigating through geodata in QGIS.</p> <p></p> <p>Figure 12: Deriving a spectrum using the \u201cinfo-button\u201d. </p>"},{"location":"qgis-tutorials/04-general-tools/#exercises-tutorial-4","title":"Exercises Tutorial 4","text":"<p>To further familiarize yourself with the tools you have just learned to handle, please solve the following tasks:</p> <ol> <li>Measure the area of the crater of the volcano</li> <li>Identify the residential area (visually) closest to the crater and register its osm_id (one attribute you can derive using the info button)</li> <li>Measure the distance of the residential area to the center of the crater (use the approximately shortest distance between the polygon and the center of the crater)</li> <li>Try to identify four different land-cover classes in the satellite image and use the info-button to display the spectra of the land-cover classes. Please make screenshots (using the \"print screen/Druck\" button on your keyboard and then \"paste/einf\u00fcgen\" in some graphic program - or maybe you also have an alternative screenshot tool on your computer) of the spectra and describe the differences you observe for the four classes in your own words. Feel free to make more than one screenshot per class to better understand how the classes you identified differ in their spectral behaviour.</li> </ol> <p>Please upload a single pdf-file including the results of Exercises 1-4 in the corresponding assignment in Blackboard.</p>"},{"location":"qgis-tutorials/05-digitizing/","title":"QGIS - Tutorials","text":""},{"location":"qgis-tutorials/05-digitizing/#tutorial-5-basic-vector-processing-in-qgis","title":"Tutorial 5 - Basic vector processing in QGIS","text":"<p>Abstract</p> <p>After completing this tutorial you will know how to create a new shapefile and digitize new spatial objects into the shapefile. Furthermore, you will be able to conduct a buffer analysis, and add geometric information to the newly created spatial objects. Developed with QGIS version - Bialowieza 3.22.5</p>"},{"location":"qgis-tutorials/05-digitizing/#1-creating-a-new-shapefile-vector-file","title":"1 Creating a new Shapefile vector file","text":"<p>In this tutorial we will get to know the most important basics for creating and processing vector Shapefiles. We will first load the already familiar satellite image as base information from which we can digitize information into a Shapefile. After creating the shapefile, we will conduct some more analysis steps with it.</p> <p>To start,</p> <p>we load the raster dataset \u201cS2_Neapel_sm2.tif\u201d as already learned in previous tutorials. Next, adapt the visualization settings to have a balanced view of all classes by using the channels R=3, G=2, B=1 and loading new max / min values using the \u201cSymbology\u201d-tab in the properties window.</p> <p>As next step, we will create an empty shapefile by</p> <p>selecting the menu \u201cLayer\u201d then \u201cCreate Layer\u201d and \u201cNew Shapefile Layer\u201d as indicated in Figure 1</p> <p></p> <p>Figure 1: Creating a new shapefile layer.</p> <p>This will open a new window in which you can define the type of Shapefile you want to create. There are three options: 1. Point 2. Line and 3. Polygon \u2013 see also area marked with \u201c1\u201d in Figure 2. Furthermore, it is necessary to define a coordinate reference system (CRS) - marked with \u201c2\u201d in Figure 2. We will now do this by</p> <p>selecting \u201cPolygon\u201d and then defining the CRS by clicking the little \u201cglobe\u201d button marked with the red frame in Figure 2</p> <p></p> <p>Figure 2: Selecting the correct settings for a Shapefile.</p> <p>However, we first have to decide what is the correct coordinate reference system. As you can see form Figure 3 there are very many coordinate reference systems (CRS) to choose from. In our case, we will simply select the coordinate reference system of the already loaded satellite image. This is often an easy solution if no further information about coordinate reference systems is available.  In our case, we can find out the coordinate reference system of the satellite image by having a look at the lower right corner of the QGIS graphical user interface as marked in Figure 4. At this position you will always see the current CRS of the QGIS project. It is normally defined by the first datasets that gets loaded into a project. In our case, the satellite image was loaded first, so the whole project was adapted to the CRS of the satellite image. In case several datasets are loaded, they might have differing CRS. We will investigate such a case in one of the Tutorials which are still to come.</p> <p></p> <p>Figure 3: Defining the coordinate reference system.</p> <p></p> <p>Figure 4: Identify the coordinate reference system of the current QGIS project.</p> <p>So how do we ensure that the CRS of our new Shapefile matches the CRS of the satellite image? In Figure 4 we can see that the CRS of the current QGIS project and hence the satellite image has the EPSG code: 32633. We will now select the same CRS in the \u201cselect CRS dialogue\u201d in QGIS by</p> <p>clicking in the \u201cFilter\u201d area marked with \u201c1\u201d in Figure 3, then we enter the digits of the EPSG code, that is \u201c32633\u201d. By doing this, all CRS systems except for a single one will disappear (see Figure 5). As you will learn in the theoretical lectures, each EPSG code is unique! So we will now select the coordinate system \u201cWGS 84 / UTM zone 33N\u201d and confirm with clicking \u201cOK\u201d. As final step, we will have to define a name for the shapefile and the folder where you want to store it. To do this, we click the ... button in the top right of the form next to the \"File name\" field and enter a filename and navigate to the folder where we want to store the new Shapefile. Name the Shapefile \u201cPolygon_tut5.shp\u201d, press \u201cOK\" and \"OK\" again in the main form to create the new Polygon Shapefile.</p> <p></p> <p>Figure 5: Filtering using the EPSG code.</p> <p>This should lead to a new situation as depicted in Figure 6. As you can see, not too much has changed as the Polygon-Shapefile currently is still empty and contains no spatial features. We will learn how we can add new features in the next section.</p> <p></p> <p>Figure 6: Situation after creating a shapefile.</p>"},{"location":"qgis-tutorials/05-digitizing/#2-digitalization-of-new-spatial-objects-into-a-shapefile-layer","title":"2 Digitalization of new spatial objects into a Shapefile layer","text":"<p>In this section we will mostly work with the \u201cDigitizing toolbar\u201d which can be seen in Figure 7. In your case the buttons of the editing toolbar will most likely be still greyed out and only the button marked with \u201c2\u201d might be a active depending on which layer is currently selected in the layer window section of QGIS. So to activate the other buttons, we have to initialize the digitalization process. To do this, we</p> <p>we first select the newly created \u201cPolygon_tut5\u201d layer in the layer window. Then we initialize the digitalization process of this Shapefile by clicking the button marked with \u201c2\u201d in Figure 7. The Shapefile is now in the \u201cEditing mode\u201d and new spatial features can be added and old spatial features can be changed or deleted.</p> <p></p> <p>Figure 7: Filtering using the EPSG code.</p> <p>As next step we will digitize the crater area of the vulcano and calculate its area. To accomplish this, we</p> <p>first zoom in to the vulcano area by using the zoom-in tool which we already know from the earlier tutorials. Then select the button marked with \u201c4\u201d in Figure 7. This button allows us to create a new spatial object - in this case a Polygon as we are editing a polygon shapefile. The symbol would differ in case we would edit a point or a line\u2013shapefile. After selecting the button, start digitizing the circumference of the vulcano crater by navigating the mouse cursor over the edges of the crater and performing a left\u2013click, then move the mourse cursor a bit further and perform another left\u2013click and so on until you have surrounded the whole crater (see Figure 8). When you are happy with your polygon, perform a right\u2013click to finish the polygon. QGIS will ask you to enter an id - you can either enter a number or just click \u201cOK\u201d. For the moment this option is not yet relevant.</p> <p></p> <p>Figure 8: Polygon surrounded the whole crater.</p> <p>After finishing the polygon, the transparent colour of the \u201cpolygon-in-progress\u201d will change to a solid colour (see Figure 9). In case you do not like this format of the Polygons, you can switch the colour, or add transparency using the \u201cSymbology\u201d tab in the \u201cProperties\u201d window as you have learned in the earlier Tutorials. Be aware that you can also adapt the transparency of only the fill-colour while keeping the colour of the Outline solid (try to find out how this works!). If you are happy with your newly ceated Polygon click the button marked with \u201c3\u201d in Figure 7 to save the edits you made. If you do not want to add any further objects click button marked with \u201c2\u201d again to stop the editing mode.</p> <p></p> <p>Figure 9: Creating a new Polygon over the crater area of the vulcan.</p> <p>In case you think that your Polygon is not accurate enough and you would like to correct some of the points between which the Polygon is spanned (this points are called \u201cnodes\u201d), QGIS offers a tool to adapt the shape of Polygons. This function is available when pressing the button marked with \u201c7\u201d in Figure 7. So let\u2019s try this out.</p> <p>First activate the editing mode as already learnt, then select the \u201cNode\u201d Tool (button 7) and then click on the Polygon you want to edit. In our case we only have a single Polygon. Once the Polygon has been selected, all nodes appear as rectangles and can now be rearranged / moved by putting the mouse cursor over them clicking and holding the left mouse\u2013button and draging them to the desired position - see Figure 10</p> <p></p> <p>Figure 10: Editing Nodes of a Polygon.</p> <p>Now you are able to create new spatial objects and adapt the shape of an existing object. Next, we will have a quick look on the other buttons illustrated in Figure 7. First we will try to create a Polygon element of a circle. To do this, we</p> <p>click the button marked with \u201c5\u201d. Then we click somewhere in main visualization window of QGIS to set the starting point, a second time to set the ending point and a third time to set the point of maximum distance from the \u201cbaseline\u201d. Then QGIS will create an element of a circle as illustrated in Figure 11</p> <p></p> <p>Figure 11: The newly created element of a circle Polygon.</p> <p>In our case this new polygon does not make too much sense. So we would like to delete it again. In order to this,</p> <p>we first select the \u201cSelect Feature\u201d button as highlighted in Figure 11 and then click on the newly created element of a circle Polygon. By clicking on it, it will be selected and turn its colour to yellow - see Figure 12 . To delete the element, we can either click on the button marked with \u201c8\u201d in Figure 7 or simply press the \u201cdel\u201d or \u201centf\u201d key on the keyboard.</p> <p></p> <p>Figure 12: Selecting the newly created element of a circle Polygon.</p> <p>Now the polygon should disappear again. The remaining buttons are typically used less frequently, but are still very useful in some occasions. In brief, the button marked with \u201c6\u201d in Figure 7 allows to move complete spatial objects around after they have been selected with the \u201cSelect Feature\u201d tool. The buttons marked with \u201c9\u201d, \u201c10\u201d and \u201c11\u201d offer the possibilities to \u201ccut out\u201d, \u201ccopy\u201d and \u201cpaste\u201d polygons. To find out how this works,</p> <p>play around a bit with the buttons and try to create a situation which looks similar to Figure 13</p> <p></p> <p>Figure 13: Situation after copy and pasting the original polygon two times and shifting the pasted Polygons to new locations.</p>"},{"location":"qgis-tutorials/05-digitizing/#3-buffer-analysis","title":"3 Buffer analysis","text":"<p>In this section, we will for the first time use a tool of QGIS that is not included in the standard processing tools and can only be found using the processing toolbox. Normally, the processing toolbox is already opened when opening QGIS (see box marked on the right part of Figure 14). In case it is not visible, it can be opened by selecting \u201cProcessing\u201d and then \u201cToolbox\u201d from the main menu of QGIS as also shown in Figure 14.</p> <p></p> <p>Figure 14: The processing toolbox.</p> <p>Finding the correct tool that is able to conduct the action we want to perform on our data is not always easy. The best option is to directly know the name of the tool. This is similar to learning vocabulary in a foreign language. In case you know the name of the tool that you want to use, you can simply type in its name in the field marked with \u201c1\u201d in Figure 15. Alternatively, you can browse through the available tools by opening the menus in the \u201cProcessing Toolbox window\u201d. Typically, the tools are sorted according to their input data type, that is there are separate tools for raster datasets and vector datasets.</p> <p></p> <p>Figure 15: The processing toolbox.</p> <p>You can find further tools including the most commonly applied ones in the main menu of QGIS where you can find the two menu sections called \u201cVector\u201d and \u201c Raster\u201d which contain plenty of options to process each datatype. It is highly recommended to also try out some of these tools and find out yourself what they are doing. In most cases there is also some further information given once the tool is started.</p> <p>The best way to learn to handle a GIS is to first learn the basics (for example using these Tutorials) but then also try out a lot on your own! Don\u2019t be shy!</p> <p>But back to our polygon. The first analysis tool we want to apply to our newly created Polygon is the \u201cbuffer-tool\u201d. It will create a zone of equidistance around an existing spatial feature. This will become fully clear once you see the results. So in order to create a buffer-Polygon around our existing Polygon, we</p> <p>write the word \u201cbuffer\u201d in the area marked with \u201c1\u201d in Figure 15. From the multiple options appearing we select the tool \u201cBuffer vectors\u201d from the \u201cGDAL/OGR toolbox\u201d and the \u201c[OGR] Geoprocessing\u201d menu (marked with \u201c2\u201d in Figure 15). By double clicking the tool, we can open a new window which allows us to specify the settings for the new buffer polygon we will create. In this window, we primarily have to define the buffer distance - in this case we set the distance to 500 - and we have to specify an output file. The corresponding fields are marked in Figure 16 with \u201c1\u201d and \u201c2\u201d. Then we click \u201crun\u201d and a new Shapefile containing the newly created buffer Polygon will be created and added to the QGIS project.</p> <p></p> <p>Figure 16: The processing toolbox.</p> <p>After re-arranging the layers in the layer window section of QGIS, the new situation should look as shown in Figure 17. You can see that the new Polygon surrounds the old Polygon with a fixed distance of 500 m. It is important to consider that the buffer distance we defined in the preceding step is always in map units. In our case we used a UTM coordinate reference systems which is a metric system. So the defined buffer distance will be in meters. In case we would apply a buffer on a dataset projected in latitutde and longitude, the buffer distance would be in degree! So in case you experience that even with a small buffer distance the resulting buffer shapefiles become really large, it is likely that this relates to a problem of the buffer distance unit.</p> <p></p> <p>Figure 17: The processing toolbox.</p>"},{"location":"qgis-tutorials/05-digitizing/#4-calculating-the-area-of-polygons-using-the-field-calculator-tool","title":"4 Calculating the area of Polygons using the Field Calculator tool","text":"<p>In this section, we will learn how to calculate the area of spatial polygon objects stored in a Shapefile. The same procedure can also be used to calculate lengths of Polylines and the x,y-coordinates of Points stored in Shapefiles. In our case we will calculate the area of the crater Polygon we have created earlier. To do this, we perform a right\u2013click on the \u201cPolygon_tut5\u201d layer in the layer window of QGIS and select the \u201cOpen Attribute Table\u201d option (see Figure 18).</p> <p></p> <p>Figure 18: Opening the attribute table.</p> <p>This will open the new window displayed in Figure 19. Here we will now</p> <p>click the \u201cOpen Field calculator\u201d button marked with \u201c1\u201d.</p> <p></p> <p>Figure 19: The attribute table.</p> <p>This will open another new window as seen in Figure 20. This new window represents the \u201cField calculator\u201d tool which is a powerful tool to update the attribute table of any vector layer and add new information to it. We will now use it to add a new columns to the attribute table of the Shapefile that contains the crater Polygon. As we can see in Figure 19, this Polygon currently contains only a single Polygon. We will later see other attribute tables with a lot more objects.</p> <p>To now add the area of our crater Polygon, we</p> <p>select \u201cCreate a new field\u201d, then we define an \u201cOutput field name\u201d by typing in \u201carea\u201d in the field marked with \u201c1\u201d in Figure 20. Next, we have to define the \u201cOutput field type\u201d. Here we click on the drop\u2013down\u2013menu marked with \u201c2\u201d and select \u201cDecimal number (real)\u201d. After selecting this option, the \u201cPrecision\u201d field marked with \u201c3\u201d gets activated.</p> <p>This field together with the field \u201cOutput field length\u201d defines how many digits can be stored in the new columns of the attribute table. This is similar to defining the cell format in Excel. In our case we want the area to be a decimal number which means that we can also have digitis behind the comma. As you remember from the thoretical lecture, the option \u201cWhole number (integer)\u201d can only store whole numbers like 1, 2, 3, 34, 789 etc., while a \u201cDecimal number (real)\u201d field is able to store decimal numbers such as 45.3 or 648.99932. The number of digits behind the comma are defined with the \u201cPrecision field\u201d while Output field lengths defines the number of total digits (digits before and after the comma together). So in our case,</p> <p>we will set the \u201cOutput field lengths\u201d to 15 and the \u201cPrecision\u201d to 2.</p> <p>A short summary what the other \u201cOutput field types\u201d mean is given in Table 1.</p> <p>Table 1: Output field types | Field type | Brief description | |--|--| | Whole number (integer) | This field type can store whole numbers (numbers without commas) between 2,147,483,648 and 2,147,483,647. Larger or smaller values cannot be stored | | Whole number (integer 64bit) | This field type is identical with \u201cWhole number (integer) but its value range is larger. It can stores numbers between 9,223,372,036,854,775,808 to 9,223,372,036,854,775,807 | | Decimal number (real) | This is the field type that can store any numbers with decimals. | | Text (string) | This field type will store everything as text. Applying mathmatical functions will not work with this field type - even if only numbers are stored in the column. | | Date | This field type will only store Dates.</p> <p></p> <p>Figure 20: Opening the attribute table.</p> <p>We have now defined how the output column of the attribute table that will store the \u201carea value\u201d of our Polygon should look like. Now we have to tell QGIS that it should calculate the area of the Polygon. To do this,</p> <p>we open the menu marked with \u201c4\u201d in Figure 20 and then double-click the option \u201c$area\u201d which will then also appear in the \u201cExpression\u201d section on the left, which has been empty so far.</p> <p>After conducting all these steps, the \u201cField Calculator\u201d window should look like shown in Figure 21. If this is the case, click \u201cOK\u201d and the window will disappear.</p> <p>If we now have another look at the attribute table of the \u201cPolygon_tut5\u201d Layer, we will see that a new column has been added to the attribute table that contains the area of the Polygon (see Figure 22). In our case the value is given in square meters as the defined UTM coordinate system is a metric system. For the Polygon created in this Tutorial the area is 249400.03 square meters. This value is likely to differ in your case, eventhough it should be similar.</p> <p></p> <p>Figure 21: Opening the attribute table.</p> <p></p> <p>Figure 22: Opening the attribute table.</p> <p>As a last step for this section, we will transform the area value given in square\u2013meters to square kilometers. Do this we will again use the field calculator tool:</p> <p>Open the attribute table of \u201cPolygon_tut5\u201d Layer, then click the \u201cField calculator\u201d button. Define a new field called \u201carea_km\u201d, select \u201cDecimal number (real)\u201d as \u201cOutput field type\u201d and set the \u201cOutput field length\u201c to 15 and \u201cPrecision\u201d to 5.</p> <p></p> <p>Figure 23: Field calculator.</p> <p>All these steps should already be familiar. However, now a new aspect comes into to play. While we used the tool or command \u201c$area\u201d in the first application of the \u201cField calculator\u201d to calculate the area, we will this time use the just calculated \u201carea\u201d field as input to the \u201cExpression\u201d section, where we will define the function to transform the values given in square meters to values in square kilometers. To achieve this:</p> <p>we first open the menu called \u201cFields and Values\u201d as marked with \u201c1\u201d in Figure 23. Then we double\u2013click the entry \u201carea\u201d which is the column in the attibute table that we have just created. The \u201carea\u201d variable will now appear in the \u201cExpression\u201d editor to the left. We will now add the formula to transform square meters to square kilometers by first clicking the \u201cDivision operator\u201d marked with \u201c2\u201d in Figure 23 and then entering \u201c1000000\u201d as 1000000 square meter equal 1 square km. We then press \u201cOK\u201d.</p> <p>This will add another column to the attribute table that contains the area of the Polygon in square kilometers as seen in Figure 24.</p> <p></p> <p>Figure 24: Another column has been added to the attribute table.</p>"},{"location":"qgis-tutorials/05-digitizing/#5-exercise-tutorial-5","title":"5 Exercise Tutorial 5","text":"<p>In Figure 23 you can see two red circles. The first circle in the West marks the area where a river connects with the sea. The second circle in the East marks the area where the river start to become hard to identify in the satellite image.</p> <p></p> <p>Figure 25: Start and end point for the Polyline to be created in the exercise.</p> <p>To train the just learned skills you should now complete the following exercise:</p> <p>(1) Load the raster dataset \u201cS2_Neapel_sm2.tif\u201d. Adapt the visualization settings if you want.</p> <p>(2) Create a new Shapefile of type \u201dLine\u201d.</p> <p>(3) Digitize a spatial line object between the two red circles as shown in Figure 25. Follow the course of the river while digitizing the line object.</p> <p>(4) Calculate the length of the river segment you have digitized in meters and kilometer.</p> <p>(5) Adapt the visualization of newly created spatial line object and give the line a deep blue colour and a line width of 5 pixels.</p> <p>(6) Zoom to the Polyline object you have created and export the current view by selecting \u201cImport/Export\u201d -&gt; \u201cExport Map to Image\u201d from the main menu of QGIS (Figure 26). This will be the proof that you have completed this Tutorial.</p> <p></p>"},{"location":"qgis-tutorials/06-selections/","title":"QGIS - Tutorials","text":""},{"location":"qgis-tutorials/06-selections/#tutorial-6-spatial-and-semantic-selection-in-qgis","title":"Tutorial 6 - Spatial and semantic selection in QGIS","text":"<p>Abstract</p> <p>After completing this tutorial you will know how to perform a spatial selection and a selection based on the contents of the attribute table of Shapefiles / vector files. Developed with QGIS version - Bialowieza 3.22.5</p> <p>In this Tutorial we will a new Shapefile named gis.osm_roads_free_1 that you can download here:</p> <p>https://drive.google.com/file/d/1Fl30MTA_4i9DguX9uP10_KGaqFCN0Bim/view?usp=share_link</p> <p>Don't forget to unzip the Shapefile.</p>"},{"location":"qgis-tutorials/06-selections/#1-performing-a-spatial-selection-spatial-query","title":"1 Performing a spatial selection / spatial query","text":"<p>In this tutorial we will first learn how to perform a spatial selection, which means selecting a subset of spatial features of a vector shapefile based on their location. Then we will learn how we can select spatial features based on information stored in the attribute table.</p> <p>To start,</p> <p>we again load the raster dataset \u201cS2_Neapel_sm2.tif\u201d located in the \u201cDatasets/S2\u201d folder and adapt the visualization settings to have a balanced view of all classes by using the channels R=3, G=2, B=1 and loading new max / min values using the \u201cSymbology\u201d-tab in the properties window.</p> <p>Following the already known procedures, we will now create an empty Point shapefile by</p> <p>selecting the menu \u201cLayer\u201d then \u201cCreate Layer\u201d and \u201cNew Shapefile Layer\u201d. Be careful to select the correct coordinate reference system and select \u201cPoint\u201d as Shapefile Type. Then we will zoom into the area of the vulcano and create a new Point in the just created Point-Shapefile that is located in the center of the vulcano - by now you should already know how to accomplish this. We will then save our edits and stop the editing mode.</p> <p>This should lead to a similar situation as shown in Figure 1. Next, we will load the Shapefile \u201cgis.osm_roads_free_1\u201d by</p> <p>starting the dialogue to load a Shapefile (as already learned in Tutorial 2) and then navigating to the folder where you have saved the file provided above, select the file, and confirm with \u201copen\u201d.</p> <p></p> <p>Figure 1: Adding a point to the center of the crater.</p> <p>This will result in the situation shown in Figure 2. The newly loaded Shapefile contains information on the position and type of the transportation network of the area. We now assume that our vulcano is in the mood for some chaos and erupts. Due to the magma flow all roads in a distance of 5000 m from the crater get destroyed. To be able to plan restoration measures and support emergency activities, we want to automatically select all roads in a distance of 5000 m from the crater center.</p> <p></p> <p>Figure 2: Loaded road network layer.</p> <p>We will accomplish this, using a spatial selection which is also called a \u201cspatial query\u201d. In QGIS this requires two steps. First, we need to create a buffer around the crater center point, which we have created as first step of this Tutorial. Then we can automatically identify all spatial features of the \u201c\u201cgis.osm_roads_subset\u201d layer that intersect with the buffer polygon.</p> <p>So as first step,</p> <p>use the buffer tool, you already know, to create a buffer with a distance of 5000 m around the point located in the center of the crater. After adapting the visualization settings of the Buffer (increase thickness of the outline to 2; set filling to transparent; change outline colour to red) you should see a situation as shown in Figure 3</p> <p></p> <p>Figure 3: Buffer in red over the road network layer.</p> <p>Next, we will learn two approaches to select all spatial features of the road network that are located within the buffer zone of the crater. For the first option, we will use</p> <p>the \u201cselect by location\u201d tool. This tool can be found in the toolbox under \u201cVector selection\u201d -&gt; \u201cSelect by Location\" as seen in Figure 4.</p> <p></p> <p>Figure 4: Opening the \u201cSpatial Query\u201d dialogue.</p> <p>this will open up a new dialogue as shown in Figure 5. In the new dialogue, we will parameterize the settings. We have to define the vector file from which we want to select some spatial features \u2013 in this case the road network layer \u2013 and we have to define the vector file which contains the spatial features which are used to define the area for selecting the spatial features - in our case the 5000 m buffer layer. We also have to define how the two vector files should interact to decide which features get selected. In this case we select \u201cintersect\u201d \u2013 this will select all spatial features of the road network layer that intersect with the buffer polygon. Finally, we select \u201cCreating new Selection\u201d to cancel all eventually earlier performed selections within the road network layer. If we now press \u201cRun\u201d we should create a situation as shown in Figure 6. As you can see, all roads located within the buffer are now selected and hence marked with yellow colour.</p> <p></p> <p>Figure 5: The \u201cSpatial query\u201d dialogue.</p> <p></p> <p>Figure 6: Situation after performing the spatial query.</p>"},{"location":"qgis-tutorials/06-selections/#2-extracting-the-selected-features-to-a-new-shapefile","title":"2 Extracting the selected features to a new Shapefile","text":"<p>Now there are two option to proceed. We could either perform some additional analyses on the selected feature while keeping them in the original Shapefile. Or alternatively, we could store the selected features in a new Shapefile and then continue our analyses with this new layer. We will follow the latter approach here. So, to store the selected features to a new Shapefile, we will</p> <p></p> <p>Figure 7: Saving the selected features to a new Shapefile.</p> <p>first close the spatial query dialogue. Then we will perform a right click on the \u201cgis.osm_roads_free_1\u201d layer and from the appearing menu we will select \"Export\" and then \u201cSave Selected Features As...\u201d (see Figure 7). This will open up a new window as shown in Figure 8. Here, we will define an output name (field marked with \u201c1\u201d in Figure 8 and activate the checkbox \u201cSave only selected features\u201d (if not already activated) to store only the spatial features that have just been selected with the spatial query. After pressing \u201cOK\u201d the new Shapefile will be stored and added to the list of layers. After de-activating the \u201cgis.osm_roads_subset\u201d layer and dragging the newly created layer to the top of the layer window section, you will see a situation as shown in Figure 9.</p> <p></p> <p>Figure 8: The \u201cSave As...\u201d dialogue.</p> <p></p> <p>Figure 9: Situation after the selected spatial features have been saved to a new Shapefile.</p>"},{"location":"qgis-tutorials/06-selections/#3-clipping-instead-of-selecting","title":"3 Clipping instead of selecting","text":"<p>An alternative to the just described work-flow of first selecting the Polygons within the buffer and then to save the selected features as a new Shapefile, is to directly clip-out all spatial features located within the buffer zone. We will now follow this approach by applying the \u201cClip\u201d tool. We can open the corresponding dialogue by</p> <p>selecting \u201cVector\u201d -&gt; \u201cGeoprocessing Tools\u201d -&gt; \u201cClip\u201d from the main menu of QGIS as shown in Figure 10. This will open the \u201cClip tool\u201d shown in Figure 11. Here, we have to define the \u201cInput Layer\u201d from which we want to create a subset, and the \u201cClip Layer\u201d which will be used to define the spatial area for which a subset of the \u201cInput Layer\u201d will be created. In our case the \u201cgis.osm_roads_free_1\u201d layer will be the \u201cInput Layer\u201d and the \u201cBuffer layer\u201d will be the Clip Layer. We additionally define an output name (\u201cClipped\u201d) for the new Shapefile and press \u201cRun\u201d. </p> <p>Then a new Shapefile will be created. After rearranging the layers a bit and changing the visualization settings, it becomes clear that this process has led to almost the same results as the preceding workflow. In Figure 12, the two Shapefiles are positioned on top of each other with one of the two layers having an outline with a larger line width. You can see that the two Shapefiles extracted using the Buffer-Shapefile with two different approaches match perfectly within the buffer zone, but the result from the first procedure has some road segments that expand over the buffer zone. This is because in the first procedure we did not use the buffer to cut intersecting line segments but we selected the \"complete\" line segments which intersected in any point with the buffer zone.</p> <p></p> <p>Figure 10: Opening the \u201cClip\u201d tool.</p> <p></p> <p>Figure 11: The \u201cClip\u201d tool dialogue.</p> <p></p> <p>Figure 12: The two extracted subsets of the road network using the buffer Shapefile match perfectly. One of the two subsets is displayed in a wide orange line, and the second subset in a more narrow red line.</p>"},{"location":"qgis-tutorials/06-selections/#4-performing-a-query-on-the-attribute-table","title":"4 Performing a query on the attribute table","text":"<p>We have now a Shapefile containing all roads that have been affected by the eruption of the vulcano. Now we would like to have a closer look at the road types that have been affected. To do this, we will first open the attribute table of one of the two Shapefiles containing only the roads located in the buffer zone. We open the attribute table by</p> <p>performing a right\u2013click on the corresponding layer and selecting \u201cOpen attribute table\u201d. This will open the attribute table as shown in Figure 13. The attribute table has 10 columns in total.</p> <p></p> <p>Figure 13: The attribute table of the road layer.</p> <p>Here, we will focus on the column named \u201cfclass\u201d which contains information about the type of road. Let us assume that the type of road is important for estimating the cost to restore the path systems after the eruption of the vulcano as well as to prioritize restoration works.</p> <p>So in the next step, we will create two more subsets from the Shapefile containing all affected roads. First, we will extract all spatial features that belong to the class \u201csecondary\u201d \u2013 which relate to the largest affected roads in the area. Then, we will extract all spatial features belonging to the classes containing the word \u201ctrack\u201d \u2013 there are in total 5 classes which contain the word \u201ctrack\u201d. Tracks are important for recreational activities and tourism.</p> <p>So let us first create a subset of all \u201csecondary\u201d roads. To do this, we</p> <p>will perform a selection based on the fclass column using the tool \u201cSelect features using an expression\u201d (marked with \u201c1\u201d in Figure 13). After clicking on the tool a new dialogue will appear which looks similar to the \u201cField calculator\u201d we already got to know in Tutorial 5 (see Figure 14). With this tool, we can automatically select all features of the vector file that match a user\u2013defined rule. In the given case we will set this rule to \u201cfclass\u201d = \u2019secondary\u2019 as shown in 14. To enter this rule, we first open the menu called \u201cFields and Values\u201d marked with \u201c1\u201d in Figure 14. Then we perform a double\u2013click on the entry \u201cfclass\u201d as this is the column of the attribute table which we want to use to perform our selection. Now, \u201cfclass\u201d will appear in the \u201cExpression\u201d field on the left marked with \u201c4\u201d. To illustrate all unique entries of this column of the attribute table, we click the \u201call unique\u201d button marked with \u201c2\u201d. If the \"All UNique\" button is not shwoing, you might have to additionally press \"Show Values\"-button first.  Now all different classes listed in the \u201dfclass\u201d column will appear. Next, we click the \u201c=\u201d sign marked with \u201c3\u201d and then we double\u2013click the entry \u2019secondary\u2019 marked with \u201c5\u201d. We then press \u201cSelect Features\u201d to query all entries of the attribute table and select all entries where our rule matches.</p> <p></p> <p>Figure 14: The select features by expression tool.</p> <p>As we can see from the results, there is only a single entry in the column \u201cfclass\u201d that belongs to the class \u201csecondary\u201d. This single spatial feature is a roundabout close to lower left border of the buffer zone (see Figure 15). It might be hidden below the outline of the buffer polygon. You can for sure find it, if </p> <p>perform a right-click on the layer with the selected feature and use the \"Zoom to Selection\" option to zoom the current view to the selected polygon</p> <p>As this is a rather small subset, we will try to additionally select all entries of the fclass column that belong to the class \u201ctertiary\u201d which is the next smaller category of roads. To do this,</p> <p>we re\u2013open the attribute table and the \u201cSelect features using an expression\u201d. This time we will set the rule to \u201cfclass\u201d = \u2019secondary\u2019 OR \u201cfclass\u201d = \u2019tertiary\u2019 (see Figure 16). Then we press \u201cselect\u201d and close the tool and the attribute table. The \u201cOR\u201d can either be directly typed into the \u201dExpression\u201d field or it can be found from the menu \u201cOperators\u201d.</p> <p></p> <p>Figure 15: Only a single spatial feature got selected.</p> <p></p> <p>Figure 16: Adapting the selection rule to increase the subset.</p> <p>Now several more roads got selected as can be seen in Figure 17. We can now save this subset by</p> <p>performing a right\u2013click on the layer containing the spatial attributed located in the buffer zone and selecting \"Export\" -&gt; \u201cSave Features As...\u201d. Then we select an Output filename, make sure that the option \u201cSave only selected features\u201d is activated and press \u201cOK\u201d. ALternatively, you can directly use the \"Save Selected Features AS...\" button then the \"Save only selected features\u201d button should already be activated </p> <p></p> <p>Figure 17: Spatial location of all \u201csecondary\u201d and \u201ctertiary\u201d roads within the buffer zone.</p> <p>As a final step of this Tutorial we will save an additional subset with a slighly more complex rule. To do this, we</p> <p>re\u2013open the attribute table of the Shapefile containing the spatial features located in the buffer zone. Then we open the \u201cSelect features using an expression\u201d tool as done before. Instead of naming a single class of the \u201cfclass\u201d column we will this time select all classes that contain the text-part \u201ctrack\u201d. To do this, we will set the rule to \u201cfclass\u201d LIKE \u2019%track%\u2019 (see Figure 18). The operator \u201cLIKE\u201d can also be found in the \u201coperator\u201d menu as marked with \u201c1\u201d in Figure 18. This operator will search for all entries in the fclass column that contain the text\u2013part \u201ctrack\u201d and will select it. The \u201c%\u201d\u2013sign is a placeholder for any textparts that can come before or after the text\u2013part \u2019track\u2019. Then we press \u201cSelect\u201d.</p> <p></p> <p>Figure 18: Using the \u201cLIKE\u201d operator to construct a more complex selection rule.</p> <p>With these settings a total of 109 spatial features gets selected (your total number of features might slightly differ depending how your center point for the crater and the corresponding buffer zone was defined). The locations of the selected features are shown in Figure 19. If we open the attribute table and scroll down a bit, we can see that all entries of the flcass column that contain the text\u2013part \u201ctrack\u201d got selected, including for example the classes \u201ctrack\u201d, \u201ctrack_grade1\u201d, \u201ctrack_grade2\u201d and so on (see Figure 20).</p> <p></p> <p>Figure 19: Locations of all spatial features containing the text\u2013part \u201ctrack\u201d in their fclass label.</p> <p></p> <p>Figure 20: All classes containing the text\u2013part \u201ctrack\u201d got selected in the attribute table.</p>"},{"location":"qgis-tutorials/06-selections/#5-exercise-tutorial-6","title":"5 Exercise Tutorial 6","text":"<p>To further practice the just learned skills, you should now complete the following exercises:</p> <p>(1) Build a subset of all spatial elements belonging to the class \u201cfootway\u201d as defined in the \u201cfclass\u201d column of the road\u2013layer within the buffer zone</p> <p>(2) Create a subset of all spatial elements belonging to the class \u201cresidential\u201d and having a length longer than 150 m.</p> <p>(3) Adapt the visualization of the two newly created subsets. All footway-elements should be in red colour and with a line width of 3 points; all residential-elements should be in green colour and with a line width of 5 points. Only the satellite image and the two newly created subsets should be active in the display.</p> <p>(4) Zoom to the buffer area and export the current view by selecting \u201cProject\u201d -&gt; \u201cSave as Image\u201d from the main menu of QGIS. This will be the proof that you have completed this Tutorial.</p>"},{"location":"qgis-tutorials/07-elevation/","title":"QGIS - Tutorials","text":""},{"location":"qgis-tutorials/07-elevation/#tutorial-7-working-with-elevation-raster-datasets-in-qgis","title":"Tutorial 7 - Working with elevation raster datasets in QGIS","text":"<p>Abstract</p> <p>After completing this tutorial you will know how to work with raster files containing elevation data. You will be able to calculate an aspect image, a slope image and know how to set height thresholds. Furthermore, you will learn how a raster file can be clipped to a desired extent and how an elevation raster can be transformed to height contour lines and how labels can be added to a vector file. Last but not least, you will learn how to re\u2013project raster files in QGIS to adapt their coordinate reference systems. Developed with QGIS version - Bialowieza 3.22.5</p>"},{"location":"qgis-tutorials/07-elevation/#1-reprojecting-and-cutting-a-raster-to-a-desired-extent","title":"1 Reprojecting and cutting a raster to a desired extent","text":"<p>In this tutorial we will learn how we can use a raster dataset containing elevation information to extract additional information concerning for example the exposition also referred to as aspect (which direction a certain pixel or area is facing) or the steepness (slope) of a certain location in the raster dataset. In this Tutorial we will make use of a elevation dataset provided by United States Geological Survey (USGS). This dataset stems from a satellite mission called ASTER. The data of ASTER was transformed to an almost global elevation dataset by analysing a huge amount of satellite images that were collected from differing view angles (typically more than 10 and in some cases over 30 satellite images for each location of the Earth). Elevation datasets can also be collected from other sources including field data (for example using traditional survey techniques which is rather time-intensive or GPS which is faster but also less precise as the z-position generally works not as accurate as x- and y-position using standard GPS devices) and remote sensing data as for example airborne laserscanning or since recently also airborne photogrammetry using aerial images. The currently most accurate, spatially continuous elevation datasets can be collected with laserscanning devices mounted on airplanes or helicopters (we will hear about this in the theoretic lectures after the  christmas break).</p> <p>However, as stated before, in this tutorial we will use the freely available ASTER datasets with a pixel size of approximately 30 m.</p> <p>As a first step</p> <p>we again load the raster dataset \u201cS2_Neapel_sm2.tif\u201d located in the \u201cDatasets/S2\u201d folder and adapt the visualization settings to have a balanced view of all classes by using the channels R=3, G=2, B=1 and loading new max / min values using the \u201cSymbology\u201d-tab in the properties window. Then we add the ASTER dataset which is called \u201cASTGTM2_N40E014_dem.tif\u201d and which can be downloaded here:</p> <p>https://drive.google.com/file/d/1TjHeuPUX_SLzBFrQqblocHJOUJg45UTG/view?usp=share_link</p> <p>This will lead to the situation shown in Figure 1. There are now two problems that we need to address. The first problem is not directly apparent, but currently the ASTER dataset and the satellite image have differing coordinate systems. This could lead to some problems when both images are used jointly in a geoprocessing tool. Hence, as a first step, we will reproject the ASTER dataset to the same coordinate reference system as the satellite image.</p> <p></p> <p>Figure 1: After loading the two raster datasets.</p> <p>Furthermore, as you can see in Figure 1 the elevation dataset covers an area that is larger than the satellite image and hence overlaps it completely. We will address this problem in a second step by clipping the ASTER dataset. But let us start with the reprojection.</p> <p>To re\u2013check whether the ASTER dataset really has a different coordinate reference system (CRS) than the satellite image we can</p> <p>perform a right\u2013click on the \u201cASTGTM2_N40E014_dem\u201d layer and select \u201cProperties\u201d. Then we select the \u201cSource\u201d tab and as seen in Figure 2, the current CRS is set to EPSG 4326. If we now check the same entry for the \u201cS2_Neapel_sm2\u201d layer, we will see that here the CRS is set to EPSG 32633. This is also the CRS defined for the current QGIS project as seen in the bottom right of the QGIS project (next to the little world globe). We close the window by pressing \u201ccancel\u201d and then start the \u201cReproject\u201d tool by selecting \u201cRaster\u201d -&gt; \u201cProjections\u201d -&gt; \u201cWarp (Reproject)...\u201d from the main menu in QGIS as shown in Figure 3</p> <p></p> <p>Figure 2: The coordinate system of the ASTER elevation dataset.</p> <p></p> <p>Figure 3: Opening the \u201cWarp\u201d tool.</p> <p>This will open a new dialogue as seen in Figure 4. Here we can reproject the ASTER elevation data by</p> <p>first selecting the \u201cASTGTM2_N40E014_dem\u201d layer as input file in the field marked with \u201c1\u201d. After selecting the ASTER layer, the field \u201cSource CRS\u201d is automatically updated to match the CRS of the selected layer. Then we set an output file in the field marked with \u201c2\u201d and we need to specify a target CRS in the field marked \u201c4\u201d. In this case, we will select the CRS with the EPSG code 32633 which is the same CRS as currently defined for the satellite image. After defining the correct Target CRS we press \u201cOK\u201d and QGIS will re-project the raster and add it as a new layer. If you now check the CRS of the new layer by performing a right\u2013click, selecting \u201cProperties\u201d and the \u201cGeneral\u201d tab, you will see that the CRS is now also set to 32633.</p> <p></p> <p>Figure 4: Parameterizing the \u201cWarp\u201d tool.</p> <p>As next step, we will clip the re-projected elevation dataset to match roughly the extent of the satellite image. To do this we</p> <p>select \u201cRaster\u201d -&gt; \u201cExtraction\u201d -&gt; \u201cClip Raster by Extent\u201d from the main menu in QGIS as shown in Figure 5. This will open a new dialogue as shown in Figure 6. In the given case we have to define three variables. We have to select the \u201cASTGTM2_N40E014_dem\u201d layer as input dataset in the field marked with \u201c1\u201d. Then we have to define an output filename in the field marked with \u201c2\u201d. Finally, we have to define the clipping extent by drawing a rectangle in the QGIS window after pressing the drop down menu (marked with \u201c3\u201d in Figure 5) and selecting \"draw on canvas\". We now draw a rectangle in the main visualization window which matches roughly the extent of the satellite image as seen in Figure 6. Then we press \u201cOK\u201d to clip the raster.</p> <p>It of course helps to drag the satellite image above the elevation dataset in the \u201clayer window\u201d section of QGIS for drawing the rectangle as the satellite image is otherwise fully covered by the elevation dataset. Please make also sure that you select the re\u2013projected elevation dataset as input file as otherwise an error message might appear that originates from the differing CRS systems, eventhough this might not be apparent from the error message.</p> <p></p> <p>Figure 5: Opening the \u201cclip\u201d tool.</p> <p></p> <p>Figure 6: Parameterizing the clip-tool in QGIS.</p>"},{"location":"qgis-tutorials/07-elevation/#2-calculating-slope-and-aspect-images-from-a-digital-terrain-model","title":"2 Calculating slope and aspect images from a digital terrain model","text":"<p>We have just successfully re\u2013projected and clipped our elevation dataset. Next, we will calculate a slope and an aspect image from the elevation dataset. We will start with calculating a slope image by,</p> <p></p> <p>Figure 7: Searching and selecting the \u201cSlope\u201d tool in the processing toolbox of QGIS.</p> <p>selecting \u201cProcessing\u201d -&gt; \u201cToolbox\u201d from the main menu in QGIS to open the Processing Toolbox window (in case it is not already open). Then we will type \u201cslope\u201d into the search field of the Processing Toolbox window (marked with \u201c1\u201d in Figure 7) and select the tool \u201cslope\u201d as marked with \u201c2\u201c in Figure 7. In the new dialogue, we select the re\u2013projected and clipped elevation dataset as input file, define an output file and leave all other settings as they are (see Figure 8). We then confirm by pressing \u201crun\u201d.</p> <p></p> <p>Figure 8: Parameterizing the \u201cslope\u201d tool in QGIS.</p> <p>The newly created slope image should now appear in the main visualization window of QGIS (see Figure 9). The slope image shows the steepness of the terrain for each pixel of the raster dataset. If you compare the patterns of the slope image with the satellite scene, you will see that for example most of the urban areas are located in rather flat areas, while the mountainous areas and the vulcano have notably higher slopes.</p> <p></p> <p>Figure 9: The slope image for study area.</p> <p>We can now calculate the aspect image accordingly, by</p> <p>typing \u201caspect\u201d into the search field of the Processing Toolbox window (marked with \u201c1\u201d in Figure 10) and select the tool \u201caspect\u201d as marked with \u201c2\u201c in Figure 10. In the new dialogue, we select the re\u2013projected and clipped elevation dataset as input file (see field marked with \u201c1\u201d in Figure 11), define an output file and leave all other settings as they are (see Figure 11 except for the option \u201cReturn 0 for flat (instead of -9999)\u201d as marked with \u201c2\u201d which we activate by checking the box. We then confirm by pressing \u201crun\u201d.</p> <p></p> <p>Figure 10: Searching and opening the \u201caspect\u201d tool in the processing toolbox of QGIS.</p> <p></p> <p>Figure 11: Parameterizing the \u201caspect\u201d tool.</p> <p>The newly created \u201caspect\u201d image should now appear in main visualization window of QGIS. As you can see in Figure 12, the aspect image is a quite nice visualization of the terrain situation within the area as for examples valleys show contrasing aspect values for each side of the valley which are typically facing opposite directions and hence become very clearly visible in the aspect image. This is particularly well visible in the southern and eastern parts of the image where mountainous terrain is dominating the landscape.</p> <p></p> <p>Figure 12: The aspect image of the study area.</p>"},{"location":"qgis-tutorials/07-elevation/#3-extracting-contour-lines-from-the-digital-terrain-model","title":"3 Extracting contour lines from the digital terrain model","text":"<p>Currently our elevation data is stored in a raster layer dataset. On the one hand side this advantageous as we have a height value for each position in out test area. However, on the negative side, we cannot display the satellite image and the height information at the same time as only one raster dataset can be efficiently displayed at one time. A well-known alternative to an elevation raster dataset are height iso-lines also called contour lines which are frequently applied in topographic maps. In QGIS there is an option to automatically create contour lines from the elevation raster dataset. We will now make use of this option by</p> <p>selecting \u201cRaster\u201d -&gt; \u201cExtraction\u201d -&gt; \u201cContour...\u201d from the main menu of QGIS as shown in Figure 13. In the new dialogue we select the re\u2013projected and clipped raster file as Input file (field marked with \u201c1\u201d in Figure 14), define an output file for the contour lines (field marked with \u201c2\u201d), we set the height interval to 50 m (field marked with \u201c3\u201d). We can change the \u201cAttribute name\u201d (marked with \u201c4\u201d) if we want to. We then press \u201cOK\u201d to calculate the contour lines.</p> <p></p> <p>Figure 13: Opening the \u201cContour\u201d tool in QGIS.</p> <p></p> <p>Figure 14: Parameterizing the \u201cContour\u201d tool.</p> <p>This will create the contour lines as illustrated in Figure 15. However, with the given illustration, the contour lines do not yet carry a lot information. We can see which pixels in the image have identical height values but we do not yet see where high and low values are. Hence, we will now add some labels to the contour lines indicating the height of the corresponding contour line.</p> <p></p> <p>Figure 15: The contour lines extracted from the elevation dataset.</p> <p>To add labels to the contour lines vector file, we</p> <p>right\u2013click on the contour lines layer and select \u201cProperties\u201d. Then, we select the \u201cLabels\u201d tab from the menu on the left. This will lead to the dialogue window shown in Figure 16. In this window we will first change the drop down menu marked with \u201c1\u201d to the option \u201cSingle labels\u201d. Next, we have to define the column of the attribute table which contains the labels we want to show in the map. We do this by selecting the entry \u201cELEV\u201d using the drop down menu marked with \u201c2\u201d. We can additionally change the size of the label\u2013text and the colour using the options marked with \u201c3\u201d and \u201c4\u201d. We then press \u201cOK\u201d.</p> <p></p> <p>Figure 16: Adding labels to the contour lines extracted from the elevation dataset.</p> <p>This will result in the situation depicted in Figure 17 where we can now see the contour lines with labels indicating their height.</p> <p></p> <p>Figure 17: Contour lines with labels added.</p>"},{"location":"qgis-tutorials/07-elevation/#4-applying-thresholds-to-a-raster-file","title":"4 Applying thresholds to a raster file","text":"<p>As final step of this Tutorial, we will learn how to apply thresholds to raster files using the elevation data as an example. We will use the raster calculator tool to accomplish this. Thresholds are used to define all areas located above or below a certain value. In our example these will be elevation heights, however, in theory thresholds can be set for any raster file.</p> <p></p> <p>Figure 18: Opening the \u201craster calculator\u201d.</p> <p>we will now learn two approaches for setting thresholds. We will first</p> <p>open the raster calculator by selecting \u201cRaster\u201d -&gt; \u201cRaster Calculator...\u201d from the main menu in QGIS as shown in Figure 18. Now the \u201craster calculator\u201d tool will be opened as seen in Figure 19. We will now create our first threshold image by composing a rule (here called expression) which defines the threshold we want to apply. To do this we first define an output file using the field marked with \u201c2\u201d, then we double-click the clipped and re\u2013projected elevation data layer listed in the \u201cRaster Bands\u201d section marked with \u201c1\u201d. When double-clicking the layer, it will appear in the \u201cRaster calculator expression\u201d section marked with \u201c3\u201d. We will now complete the expression by first clicking the \u201cgreater than\u201d button marked with \u201c4\u201d and then entering the digits \u201c50\u201d into the expression window. With this expression, all pixels in the re\u2013projected and clipped elevation raster with values above 50 m will be set to 1 and all pixels with values below 50 m will be set to 0. To check whether this works, we press the \u201cOK\u201d button.</p> <p></p> <p>Figure 19: Defining a threshold rule in the \u201craster calculator\u201d.</p> <p>This will lead to the situation shown in Figure 20 where we can see that a binary raster image has been created where all pixels in the rasterfile have either a value of 0 or 1. We can clearly see, that especially the areas around the vulcano and the areas in the South and East \u2013 from which we know that they are rather mountainous \u2013 were found to have elevations above 50 m as indicated by the white colour which stands for a value of 1.</p> <p>Be aware that it could also happen that you see a completely grey output image. In this case you might have to adapt the symbology of the raster and define a minimum value of 0 and a maximum value of 1. You should already be familiar with the steps you have to conduct to accomplish this.</p> <p></p> <p>Figure 20: The resulting binary mask showing all areas with elevation above 50 m.</p> <p>One thing, that we could see critical in the current binary image is that we make no difference between areas on land and in the sea. In the elevation dataset, all areas covered by sea have a fixed elevation value of 0. So in the next step, we will apply another threshold but this time we want to extract all areas that are located higher than 0 m and lower than 50 m. To do this,</p> <p>re\u2013open the raster calculator tool as learned above. This time we set the threshold expression as indicated in Figure 21. We then press \u201cOK\u201d.</p> <p>This will lead to a new situation as shown in 22. We can now see that especially the central part of the image and some parts along the coast fulfill the criteria of having an elevation between 0 and 50 m. We now might be interested to overlay this information with our satellite image. Currently, the raster layer is just black and white and we can only activate and deactivate the layer to see which areas in the satellite scene are located between 0 and 50 m. In the following we will learn a more elegant approach for visualizing both datasets together.</p> <p></p> <p>Figure 21: Defining a slightly more complex threshold rule.</p> <p></p> <p>Figure 22: Resulting binary image when applying the slightly more compley rule.</p>"},{"location":"qgis-tutorials/07-elevation/#5-converting-raster-datasets-to-vector-polygons","title":"5 Converting raster datasets to vector polygons","text":"<p>One way to mark all areas of the satellite image located at elevations between 0 and 50 m is to first transform the threshold raster layer to a polygon file and then only keep the Polygons that have a value of 1 (that means, they match the rule defined above of having a location between 0 and 50 m). To do this, we</p> <p>select \u201cRaster\u201d -&gt; \u201cConversion\u201d -&gt; \u201cPolygonize (Raster to Vector)...\u201d from the main menu in QGIS as shown in Figure 23. In the new dialogue shown in Figure 24, we only have to define an output file and then press \u201cOK\u201d.</p> <p></p> <p>Figure 23: Opening the tool to \u201cPolygonize Raster to Vector files\u201d.</p> <p></p> <p>Figure 24: Parameterizing the \u201cPolygonize Raster to Vector\u201d tool.</p> <p>This will create a Shapefile that matches the patterns of the raster layer. Polygons will be composed by stitching all spatially connected pixels having either a value of 0 or a value of 1 together. The corresponding resulting polygon layer can be seen in Figure 25.</p> <p></p> <p>Figure 25: The polygon layer created with the \u201cPolygonize Raster to Vector\u201d tool.</p> <p>In Figure 26 you can see the same file after the visualization settings of the Polygon vector layer have been adapted. This view can be reached by</p> <p>right\u2013clicking the newly created polygon layer and selecting \u201cProperties\u201d and then clicking the \u201cSymbology\u201d tab. Here, we now select the \u201dCategorized\u201d display option from the drop\u2013down menu marked with \u201c1\u201d in Figure 27. We then select \u201cDN\u201d in the \u201cColumn\u201d field marked with \u201c2\u201d and press classify (marked with \u201c3\u201d) which will display the two different values of the DN column in the attribute table which was created based on the digital numbers (DN) of the raster layer which we transformed to Polygons in the preceeding step. We can now adapt the colours of both categories by double clicking the squares in the \u201cSymbol\u201d column of the section marked with \u201c4\u201d and as learned in Tutorial 2. Here, the colour for the outline and filling of the Polygons with value 0 were set to transparent to make them visually disappear. Polygons with a DN value of 1 were set to a transparent red. Try to accomplish this on your own by adapting the visualization settings in the \u201cStyle tab\u201d of the \u201cProperties dialogue\u201d as learned in the earlier Tutorials.</p> <p></p> <p>Figure 26: Polygon layer with adapted visualization settings.</p> <p></p> <p>Figure 27: Visualization settings of the polygon vector layer.</p>"},{"location":"qgis-tutorials/07-elevation/#6-exercises-tutorial-7","title":"6 Exercises Tutorial 7","text":"<p>To further practice the work with elevation datasets, try to identify the top height of the vulcano by using the Info\u2013Button of the main menu of QGIS which you already know from Tutorial 4. Report the approximate top height in a Word-Document.</p> <p>Furthermore, let us assume that a certain endemic plant species of this region of Italy only grows in altitudes between 300 and 800 m. To identify the potential habitat of this species in our study area, create a Polygon layer that marks all areas located between an elevation of 300 and 800 m. Adapt the visualization settings of this Polygon by changing the color to green and set the transparency to 50 percent. Then make sure that only the satellite image and the just created Polygon are activated in the current display (Polygon on top of the satellite image). Then zoom to the full extent of the satellite image and export the current view by selecting \u201cProject\u201d -&gt; \u201cSave as Image\u201d from the main menu of QGIS. This will be the proof that you have completed this Tutorial.</p>"},{"location":"qgis-tutorials/08-map-making/","title":"QGIS - Tutorials","text":""},{"location":"qgis-tutorials/08-map-making/#tutorial-8-making-a-map-in-qgis","title":"Tutorial 8 - Making a map in QGIS","text":"<p>Abstract</p> <p>After completing this tutorial you will know how to create basic maps in QGIS with an appropriate legend, a north arrow, a coordinate grid and a scale. Developed with QGIS version - Bialowieza 3.22.5</p>"},{"location":"qgis-tutorials/08-map-making/#1-preparing-the-data-for-the-map-reprojecting-and-cutting-a-shapefile-to-a-desired-extent","title":"1 Preparing the data for the map: Reprojecting and cutting a Shapefile to a desired extent","text":"<p>In this tutorial we will learn how to create basic maps in QGIS. As a first step</p> <p>we again first load the raster dataset \u201cS2_Neapel_sm2.tif\u201d and adapt the visualization settings to have a balanced view of all classes by using the channels R=3, G=2, B=1 and loading new max / min values using the \u201cSymbology\u201d- tab in the properties window. Then we additionally load the \u201cgis.osm_landuse_a_free_1\u201d layer provided in one of the earlier tutorials.</p> <p>This will lead to the situation shown in Figure 1.</p> <p></p> <p>Figure 1: The two loaded datasets.</p> <p>For creating the map, we would like the applied datasets to cover the same extent. So as next step, we will clip the Shapefile so that its extent matches the extent of the satellite image. To accomplish this, we will </p> <p>select \u201cProcessing\u201d -&gt; \u201cToolbox\u201d from the main menu in QGIS to open the Processing Toolbox window (in case it is not already open). Then we will type \u201cclip vector\u201d into the search field of the Processing Toolbox window (marked with \u201c1\u201d in Figure 2) and select the tool \u201cclip vectors by extent\u201d as marked with \u201c2\u201c in Figure 2. In the new dialogue, we select \u201cgis.osm_landuse_a_free_1\u201d layer as input layer and then press the \u201c...\u201d button marked with \u201c1\u201d in Figure 3. This will open a another menu from which we select the first option \u201cCalculate from Layer\u201d. In the newly opened window, we then select the satellite image \u201cS2_Neapel_sm2 [EPSG:32633]\u201d. We define an output file and click \"Run\".</p> <p></p> <p>Figure 2: Loading the clip vector tool from the Processing toolbox.</p> <p></p> <p>Figure 3: Calculating the clip extent from a layer.</p> <p>After re\u2013arranging the layers to put the clipped Shapefile on top of the other layers, the main visualization window of QGIS should look as shown in Figure 4. The colours are of course likely to differ. In Figure 7 we can now see that the Shapefile was clipped to the extent of the satellite image.</p> <p></p> <p>Figure 4: The clipped Shapefile on top of the satellite image.</p> <p>Be aware that the land-cover layer at the moment is still in the geographic coordinate system (EPSG code: 4326). While this is not absolutely problematic in this tutorial since QGIS is able to reproject the file \"on-the-fly\" you can still reproject the vector layer to UTM if you prefer to have all data in the same coordinate reference system. You should already be familiar with this process from the last tutorial.</p>"},{"location":"qgis-tutorials/08-map-making/#2-preparing-the-data-for-the-map-adapting-the-visualization-settings-of-the-shapefile","title":"2 Preparing the data for the map: Adapting the visualization settings of the Shapefile","text":"<p>As a next step, we have to prepare all the contents and visualization settings that we would like to integrate into our final map. In our case, we will display only the clipped and re\u2013projected Shapefile as main information source to create a land\u2013cover map and use the satellite image in the background. As next steps, we will therefore adapt the visualization settings of the Shapefile by selecting a categorized visualization setting in the \u201cSymbology\u201d tab of the \u201cProperties dialogue\u201d. We then manually adapt the colour of all land\u2013use classes so that they reasonably well match their meaning. For example, it might be a good idea to assign a green colour to vegetation classes. The basic process to accomplish this should already be known from Tutorial 2.</p> <p>So, as a next step, try to adapt the visualization settings of the Shapefile in a way that the main visualization window of QGIS looks similar as seen in Figure 5.</p> <p></p> <p>Figure 5: Situation after adaping the visualization options of the Shapefile containing the land\u2013use\u2013classes.</p>"},{"location":"qgis-tutorials/08-map-making/#3-starting-the-print-composer-dialogue","title":"3 Starting the print composer dialogue","text":"<p>Figure 6: Opening the print composer dialogue.</p> <p>We are now ready to initiate the preparation of a map. In QGIS all functions to create a map are hidden in the \u201cprint Layout\u201d-Tool which can be accessed from the main menu of QGIS. We will now try this by</p> <p>selecting \u201cProject\u201d -&gt; \u201cNew Print Layout...\u201d from the main menu of QGIS as illustrated in Figure 9. This will first open a pop\u2013up window (Figure 7) which will ask you for the name of your new map. We will enter \u201cmap1\u201d here and confirm by clicking \u201cOK\u201d. This will open a new window depicting a completely new graphical user interface as shown in Figure 8.</p> <p></p> <p>Figure 7: Entering a name for the new print layout project/map.</p> <p></p> <p>Figure 8: Overview over the print composer user interface.</p> <p>This new graphical user interface provides all functionalities to compose a map based on the geodata displayed in the QGIS project. In Figure 8 an overview over the main sections of the print composer tool is given.</p> <p>The area marked with \u201c1\u201d provides general tools to start composing a new map, store or duplicate a current map project and save a current project as a template. Furthermore, some options to export the current display to a file are provided.</p> <p>The tools in the area marked with \u201c2\u201d allow to refresh the current contents displayed in the map and to zoom within the map itself (not in the map contents).</p> <p>The tools marked with \u201c3\u201d allow to navigate and adapt the extent of the displayed map contents.</p> <p>The tools marked with \u201c4\u201d allow to add items to the map including for example a North arrow, the current geodata displayed in the main visualization window of QGIS, a legend, etc.</p> <p>The section marked with \u201c5\u201d provides additional information for all items that are currently included in the map composer project. To access the options of a item, the item has to selected in the main visualization area of the print composer tool (white area marked with \u201c6\u201d).</p>"},{"location":"qgis-tutorials/08-map-making/#4-adding-items-to-the-map","title":"4 Adding items to the map","text":"<p>We will now start composing our map by first of all adding the current visualization of the QGIS project to the map. We will do this by</p> <p>selecting the \u201cadd map\u201d button marked with \u201c1\u201d in Figure 9 and then drawing a rectangle in the main visualization area of the map composer tool as shown in Figure 12.</p> <p></p> <p>Figure 9: Adding a map to the print composer view.</p> <p>This will add the current QGIS project visualization to the map as shown in Figure 10. This map item can now be seen as a \u201cplaceholder\u201d that will always show the current visualization of the QGIS project if the view is updated. It will not update itself automatically. In Figure 13 you can see that the actual map content is not fully filling out the frame of the map\u2013item we have just created. We can address this problem by on the one hand side moving the map contents within the map\u2013item frame by using the tool marked with \u201c1\u201d in Figure 10 and on the other hand by adapting the current scale of the map. This can be achieved by first selecting the map\u2013item in the main visualization window and then selecting the \u201citem properties\u201d tab as marked with \u201c2\u201d in Figure 10. Then we can change the scale by changing the number given in the field marked with \u201c4\u201d. The smaller we make this number, the more we will zoom into the map. We can try this by</p> <p>changing the current value of around 137.000 to 50.000. After changing the value we have to press the \u201cUpdate preview\u201d button marked with \u201c3\u201d in Figure 13 to refresh the current view of the map.</p> <p></p> <p>Figure 10: Adapting the displayed extent of the geodata in the print composer view</p> <p>The \u201cUpdate preview\u201d button has is a quite important tool. You will have to use it always if you change something in the map contents. That is, if you decide to activate or deactivate some of your geodata in the main visualization window of QGIS and you want to see this also in the print\u2013composer view, you will always have to use the \u201cUpdate preview\u201d button.</p> <p>The situation after changing the scale to 50.000 is shown in Figure 11. You can see that, as expected, the displayed extent has shrinked notably, but at the same time, the level of detail has increased.</p> <p></p> <p>Figure 11: Situation after adapting the scale of the map</p> <p>As next step, we will add a grid displaying the coordinates of the map. To do this,</p> <p>we again first select the map\u2013item in the main visualization window of the map composer, then select the item properties tab as before to change the scale of the map\u2013item. Here, we will scroll down a bit until we reach the section \u201cGrids\u201d marked with the red frame in Figure 12. We open the section and first of all press the green + button (marked with \u201c1\u201d in Figure 12) to add a grid. We can then adapt the properties of the grid by clicking the \"Modify Grid\" button (marked with \"2\" in Figure 12). In the situation shown in Figure 13 we selected \u201cFrame and annotations only\u201c as \u201cGrid type\u201d. This is a rather discreet solution as the grid is only depicted outside of the map. You can play around some more with the differing grid types and see which one you prefer. Furthermore, it is important to select the interval at which grid cells or annotations are set. In the given example the x and y intervals were set to 1000 map units, with map units being meter (area marked with \u201c3\u201d in Figure 13). Please be aware that the map units are only meters if the CRS of the project is set to EPSG 32633 (the crs of the Sentinel-2 image). If the project CRS is currently set to EPSG 4326, you might not see a grid at all since then 1000 as interval would mean 1000\u00b0 and hence there would no coordinate marked at all since the geographic coordinates only range from 0 to 180 degrees. If this would be the case for you, you can adapt the CRS in the map view by clicking the button marked with \"5\" in Figure 13. The frame style can be adapted using the area marked with \u201c4\u201d.</p> <p></p> <p>Figure 12: Adding a grid and drawing coordinates around the map.</p> <p></p> <p>Figure 13: Adding a grid and drawing coordinates around the map.</p> <p>To get a feeling for the multitude of available settings, it is best to play around with the different grid types and frame styles and just have a look how the displayed map changes. What is still missing in your map, are the coordinate themselves. To add these, you have to scroll down a bit further in the \u201cItem properties\u201d tab. Then you will find the option to activate the \u201cDraw coordinates\u201d check\u2013box as marked with \u201c1\u201d in Figure 16. In the same section you will find options to activate and de\u2013activate the coordinates for certain sides of the map (area marked with \u201c2\u201d in Figure 16). Generally, it is sufficient to draw the coordinates for one x and one y axis. Further down, it is possible to define the precision of the coordinate. While it makes sense to give precision with decimals for example when using a geographic coordinate system with latitude and longitude values, it in most cases does not make sense in metric coordinate systems such as UTM as most maps will typically not be resolved in sub-meter resolutions. In the example, the value was therefore set to 0.</p> <p></p> <p>Figure 14: Parameterizing the displayed coordinates</p> <p>Next, we will add a North arrow and a scale bar to our map. We can do this by</p> <p>selecting the buttons marked with \u201c1\u201d and \u201c2\u201d in Figure 15. Simply click on of the button and then click within the main visualization section of the print composer. You can later adapt the properties of the North arrow and the scale bar by selecting them and adapting the settings displayed in the \u201cItem Properties\u201d section as done before for the map\u2013item.</p> <p></p> <p>Figure 15: Adding a North arrow and a scale bar.</p> <p>Please be aware, that the North arrow in QGIS is not connected to the geoinformation contained in the data. It basically is just a grapical arrow that you draw in any direction. So please make sure that you use it appropriately.</p>"},{"location":"qgis-tutorials/08-map-making/#5-adding-a-legend-to-the-map","title":"5 Adding a Legend to the map","text":"<p>We will now have a closer look on how to add and adapt a legend to our map. For adding the legend</p> <p>we select the \u201cadd legend\u201d button marked with \u201c1\u201d in Figure 16 and then draw a rectangle at the position where we want to locate the Legend as shown in Figure 16.</p> <p></p> <p>Figure 16: Adding a legend.</p> <p>This will lead to the situation shown in Figure 17. As you can see, the basic version of the Legend already looks quite suitable. Nevertheless, we might want to adapt a few points related to the displayed contents and the design. For example, we can see that at the bottom of the legend, there is an extra entry for the satellite image stating \u201cS2_neapel_sm2\u201d. This is not really very informative for a potential user of the map. Furthermore, the sub-title of the Legend currently reads \u201cClipped (extent)\u201d which also should be changed to a more meaningful information.</p> <p></p> <p>Figure 17: After adding the legend.</p> <p>We will now address these two points by</p> <p>first selecting the legend in the main visualization window and then opening the \u201cItem properties\u201d tab. Then we scroll down to the entry \u201cLegend items\u201d marked with \u201c1\u201d in Figure 18. Here we will first of all change the name of the section showing the land\u2013use\u2013classes which is currently named \u201cClipped extent\u201d (it might differ in your case). We do this by double\u2013clicking the field marked with \u201c2\u201d in Figure 18, this will open die pop\u2013up window marked with \u201c3\u201d. Here, we will now change the title to \u201cLand\u2013use\u2013classes\u201d and confirm with \u201cOK\u201d.</p> <p></p> <p>Figure 19: Adapting sub\u2013headings in the legend.</p> <p>In Figure 21 you can see that the sub-heading has now changed from \u201cClipped (extent)\u201d to \u201cLand\u2013Use\u2013Classes\u201d (see red box marked with \u201c1\u201d). Next, we will delete the entry in the legend that was created for the satellite data. To do this, we</p> <p>first uncheck the option \u201cAuto update\u201d as marked with \u201c2\u201d in Figure 19. If the \u201cAuto update\u201d function is activated, the legend will always display the legend entries for all layers currently activated in the QGIS project. For manually adapting the legend, it has to be de\u2013activated. Next, we select the entry \u201cS2_Neapel_sm2\u201d (marked with \u201c3\u201d) and then we press the red minus button marked with \u201c4\u201d to drop the corresponding entry from the legend.</p> <p>In the same way, you could also manually add an entry to the legend by clicking the plus button marked with \u201c5\u201d which will then open a pop\u2013up window with all all available layers that are currently not included in the Legend. If you scroll a bit further down in the \u201cItem properties\u201d window you will see that there are many further options to adapt the layout of the Legend. You can change the font type, the font size and in how many Columns the legend entries are arranged. Feel free to play around with these options and have a look how they affect the layout of your Legend.</p> <p></p> <p>Figure 19: Dropping and adding items from the Legend.</p>"},{"location":"qgis-tutorials/08-map-making/#6-finalizing-the-map","title":"6 Finalizing the map","text":"<p>We now have a map with the most important properties present. We will now finalize the map by adding some information on the data source, a title, and the applied coordinate reference system. To add a title we will</p> <p>use the \u201cAdd new label\u201d button marked with \u201c3\u201d in Figure 20. Then we can change the displayed text in the field marked with \u201c1\u201d and increase the font size by clicking the button marked with \u201c2\u201d. After re\u2013arranging the text a bit in the main visualization window, we can reach a situation similar as shown in Figure 20.</p> <p></p> <p>Figure 20: Adding a title to the map</p> <p>We can now add in the same way the data source and the applied coordinate reference system. There is currently no option in QGIS to do this automatically. You can try to accomplish this on your own to create a map that looks similar as shown in Figure 23.</p> <p></p> <p>Figure 21: The final map.</p>"},{"location":"qgis-tutorials/08-map-making/#7-exporting-the-map","title":"7 Exporting the map","text":"<p>If we are happy with the layout of our map we can now export the map by</p> <p>either selecting \u201cLayout\u201d -&gt; \u201cExport as Image\u201d / \u201cExport as PDF\u201d / \u201cExport as SVG\u201d or by clicking the three buttons on the far right of the section marked with \u201c1\u201d in Figure 11.</p> <p>Exporting as image allows you to easily embed the map into a text-document (e.g., Word) while PDF is a good solution if you want to send the map without any further information to somebody. The \u201cSVG\u201d format is a pure vector format which has big advantages if your map only consists of vector files as you can then zoom in the exported map without any quality loss.</p>"},{"location":"qgis-tutorials/08-map-making/#8-exercise","title":"8 Exercise","text":"<p>This Tutorial only covers the most basic functionalities for creating a map in QGIS. As you have already seen from the many options available in the \u201cItem properties\u201d sections of each item that can be added in the print\u2013composer, there are many more ways to adapt your data to create an informative and eye\u2013pleasing map. It is highly encouraged to try out some of the options on your own to get acquainted with all the possibilities the map composer has to offer.</p> <p>Please play around a bit more with the different map options and try to design a map which you find visually pleasing and then export the map as pdf and upload the map to Blackboard to proof that you have finished the Tutorial.</p>"},{"location":"qgis-tutorials/09-spatial-interpolation/","title":"QGIS - Tutorials","text":""},{"location":"qgis-tutorials/09-spatial-interpolation/#tutorial-9-spatial-interpolation-in-qgis","title":"Tutorial 9 - Spatial interpolation in QGIS","text":"<p>Abstract</p> <p>After completing this tutorial you will know how to to derive a continuous surface of estimates from discrete points with measured values. This process is called interpolation. </p>"},{"location":"qgis-tutorials/09-spatial-interpolation/#1-loading-datasets-and-reprojecting","title":"1 Loading Datasets and Reprojecting","text":"<p>In this tutorial we will learn how to interpolate punctual precipitation and elevation measurements. We will make use of a precipitation dataset provided by the \"Centro Funzionale Multirischi della Protezione Civile Regione Campania\u00a7. This dataset contains measurements of annual precipitation from the year 2021 in mm/year. We will also use global elevation data provided by United States Geological Survey (USGS) and a dataset representing the NUTS (Nomenclature of territorial units for statistics) and Statistical regions provided by Eurostat.</p> <p>You can access the precipitation dataset and a shapefile of the outline of the land-masses of the study area here:</p> <p>https://drive.google.com/file/d/1xEZ7rflbptivMOpsOzOYHFQcQ4sePr_P/view?usp=share_link</p> <p>If we load the dataset in a common text-editor, the file should look as shown in Figure 1:</p> <p></p> <p>Figure 1: The precipitation csv file.</p> <p>We can see that the file contains 6 columns including the X and Y coordinates of the measurement stations, an ID, the annual precipitation value recorded at this station, the name of the station and it elevation.</p> <p>We will now load this data into QGIS, along with the Sentinel-2 satellite image.</p> <p>To do this,</p> <p>we again first load the raster dataset \u201cS2_Neapel_sm2.tif\u201d and adapt the visualization settings to have a balanced view of all classes by using the channels R=3, G=2, B=1 and loading new max / min values using the \u201cSymbology\u201d- tab in the properties window. Then we additionally load the points stored in the file \u201cdata_interpolation.csv\"</p> <p>To load a text file as spatial layer in QGIS, we select \u201cLayer\u201d -&gt; \u201cAdd Layer\u201d -&gt; \u201cAdd Delimited Text Layer...\u201d from the main menu in QGIS as shown in Figure 1. This will open a new dialogue as shown in Figure 2.</p> <p></p> <p>Figure 2: Loading a csv file.</p> <p>We now first select the \u201cdata_interpolation.csv\u201d as input file in the field marked with \u201c1\u201d. Next we choose the file format \"CSV\" in the area marked with \"2\". This will tell QGIS how the individual columns in the csv-file are separated. Afterwards we set the Geometry Definition. The csv file contains point coordinates and we hence select the corresponding option (marked with \"3\"). To tell QGIS where the points are located, we have to define a x-field containing the x-coordinates (Longitude) and the y-field containing the y-coordinates (Latitude). Finally we set the coordinate reference system to EPSG:4326 - WGS 84 (see area marked with \"5\") and click Add. We select the EPSG:4326 system since the points in the csv file are stored as geographic coordinates.</p> <p></p> <p>Figure 3: Adding a delimited Text.</p> <p>This should lead to a situation as depicted in Figure 4.</p> <p></p> <p>Figure 4: After loading the two datasets.</p> <p>We now have two datasets with different projections which we need to change in the next step to prepare the data for interpolation.</p> <p>To reproject the point data stored in the geographic coordinate system, we select \u201cVector\u201d -&gt; \u201cData Management Tools\u201d -&gt; \u201cReproject Layer...\u201d from the main menu in QGIS as shown in Figure 5. This will open a new dialogue as shown in Figure 5.</p> <p></p> <p>Figure 5: Reprojecting a vector layer.</p> <p>Here we can reproject the precipitation data by</p> <p>first selecting the \u201cdata_interpolation\u201d layer as input file in the field marked with \u201c1\u201d. After selecting the layer,  we set an output file in the field marked with \u201c3\u201d in Figure 6 and we need to specify a target CRS in the field marked \u201c2\u201d. In this case, we will select the CRS with the EPSG code 32633 which is the same CRS as currently defined for the satellite image. After defining the correct Target CRS we press \u201cOK\u201d and QGIS will re-project the point-vector layer and add it as a new layer. If you now check the CRS of the new layer by performing a right\u2013click, selecting \u201cProperties\u201d and the \u201cGeneral\u201d tab, you will see that the CRS is now also set to 32633.</p> <p></p> <p>Figure 6: Reproject layer.</p>"},{"location":"qgis-tutorials/09-spatial-interpolation/#2-idw-interpolation","title":"2 IDW Interpolation","text":"<p>Wer are now ready to interpolate the precipitation values provided in the csv-file. We will use the extent of the satellite image as area for the interpolation. Interpolation results can vary significantly based on the method and parameters you choose. QGIS in its standard installation provides two interpolation methods: Triangulated Irregular Network (TIN) and Inverse Distance Weighting (IDW). For the first part of the tutorial we are using the IDW method.</p> <p>First from the Processing Toolbox search and locate the \"Interpolation\" -&gt; \"IDW interpolation\" tool as shown in Figure 7. (Remember in the main menu click \"Processing\" -&gt; \"Toolbox\" in case the toolbox is now shown). Double-click to launch it. </p> <p></p> <p>Figure 7: Processing Toolbox.</p> <p>In the new dialogue window we</p> <p>first select the \u201cdata_interpolation_reproject\u201d layer as input file in the field marked with \u201c1\u201d in Figure 8. After selecting the interpolation layer,  we select the interpolation attribute \"Precipitat\" marked with \"2\" and click on the plus symbol to add it to the attribute window below. Next we set the \"Distance coefficent P\" marked with \"3\". </p> <p>P is a important coefficcent in this method, because weights are proportional to the inverse of the distance (between the data point and the prediction location) raised to the power value P. So as mentioned above the result is dependent on this parameter.  As a result, as the distance increases, the weights decrease rapidly. The rate at which the weights decrease is dependent on the value of P. If P = 0, there is no decrease with distance, and because each weight is the same, the prediction will be the mean of all the data values in the search neighborhood. As P increases, the weights for distant points decrease rapidly. If the P value is very high, only the immediate surrounding points will influence the prediction.</p> <p>After setting P (you may try some different values for that) we set the extent (marked with \"4\" in Figure 8). For this we calculate the extent from our satellite image. Next you can set the Pixel size marked with \"5\". Note that the pixel size will affect the calculation time. Before you run the algorithm you can name an output file in the field marked with \"6\".</p> <p></p> <p>Figure 8: IDW Interpolation dialogue.</p> <p>The IDW interpolation tool will then output a black and white interpolated raster surface onto the map area as shown in Figure 9. Based on your P value and your pixel size it may look different.</p> <p></p> <p>Figure 9: IDW interpolation result.</p> <p>The next step is to clip the interpolation result to the land mass since we did not have any precipitation observation for the sea and we could assume that precipitation patterns differ over the sea. </p> <p>To clip the interpolation layer </p> <p>we load the \"Campania_boundaries.shp\" as learned in earlier tutorials. </p> <p>This should lead to a situation as depicted in Figure 10.</p> <p></p> <p>Figure 10: After loading the campania boundaries.</p> <p>Next we select \u201cRaster\u201d -&gt; \u201cExtraction\u201d -&gt; \u201cClip Raster by Mask Layer...\u201d from the main menu in QGIS as shown in Figure 11.</p> <p> Figure 11: Opening the clipping tool.</p> <p>In the new dialogue window we</p> <p>first select the \u201cprecipitation_idw_p5\u201d layer as input file in the field marked with \u201c1\u201d in Figure 11. After selecting the input layer,  we select the Mask layer \"Campania_boundaries\" marked with \"2\" in Figure 12. As you can see in Figure 12 we are lucky that both layer have the same CRS, else we would have to reproject the layers before. Next we save the file in the field marked with \"3\" as a geoTIFF file.  Now click \"Run\"</p> <p></p> <p>Figure 12: Clip Raster by Mask Layer.</p> <p>The new clipped layer will be added to the canvas and only shows the land mass as depicted in Figure 13.</p> <p></p> <p>Figure 13: Clipped Raster.</p> <p>To make the visual appearance more pleasing, we can customize the symbology. To do it, right click the clipped raster result and select Properties (Or simply you can double click the layer name). The Layer Properties window will appear as shown in Figure 14. Select the Symbology tab marked with \"1\". In the Band Rendering option change the Render type to Singleband pseudocolor. (marked with \"2\") Then you can set your color ramp marked with \"3\". The color should fit to the object which is shown in a map. To classify you can set a classification mode (marked with\"4\") and the number of classes (marked with \"5\"), just explore if you want.</p> <p>After modifying the colour ramp values to reflect the range of values in a suitable way click \u2018apply\u2019 and \u2018ok\u2019 and you will now have coloured map of the IDW interpolation surface for precipitation in mm/year as shown in Figure 14.</p> <p></p> <p>Figure 14: Symbology.</p> <p></p> <p>Figure 15: Result of the IDW interpolation.</p>"},{"location":"qgis-tutorials/09-spatial-interpolation/#3-tin-interpolation","title":"3 TIN Interpolation","text":"<p>Next, we will also try the second interpolation method which is available in the base-installation of QGIS, that is the Triangulated Irregular Network (TIN) method. This time we will not interpolate the precipitation data but the elevation point data which is also stored in the csv-file.</p> <p>First from the Processing Toolbox search and locate the \"Interpolation\" -&gt; \"TIN interpolation\" tool as shown in Figure 16.</p> <p></p> <p>Figure 16: Processing Toolbox.</p> <p>In the new dialogue window we</p> <p>first select the \u201cdata_interpolation_reproject\u201d layer as input file in the field marked with \u201c1\u201d in Figure 17. After selecting the interpolation layer,  we select the interpolation attribute \"Elevation\" (area marked with \"2\" in Figure 16) and click on the plus symbol to add it to the attribute window below. As a interpolation method we keep \"linear\". We set the extent by clicking the button marked with \"3\" to the extent from our satellite image. Next you can set the Pixel size marked with \"4\". Last we save the output as a .tif file by defining the filename in the field marked with \"5\" and run the algorithm.</p> <p></p> <p>Figure 17: TIN Interpolation dialogue.</p> <p>The TIN interpolation tool will then output a black and white interpolated raster surface onto the map area as shown in Figure 18.</p> <p></p> <p>Figure 18: TIN interpolation result.</p> <p>In the next step we clip the land mass like we did before with the IDW interpolation. You should already know how to accomplish this by now. The new clipped layer will be added to the map area and only shows the land mass and the interpolated triangles as depicted in Figure 19.</p> <p></p> <p>Figure 19: Clipped Raster.</p> <p>Now we can customize the symbology as we did for the output layer of the IDW interpolation. Feel free to modify the symbology as you like. One option is shown in Figure 20.</p> <p></p> <p>Figure 20: Result of the TIN interpolation.</p>"},{"location":"qgis-tutorials/09-spatial-interpolation/#4-exercise-tutorial-9","title":"4 Exercise Tutorial 9","text":"<p>Run each interpolation method for the input layers for which you did not yet run it and play around a bit more with the settings. Have a look at the outputs and discuss which method with which settings you believe provides \"most realistic looking\" results. Prepare a simple map (using the skills you acquired in the last tutorial) containing the view of what you would consider best interpolation result you obtained during your trial runs.</p> <p>If you want to compare your results to a more sophisticated climate interpolation dataset, you can search for the so called \"WorldClim\" dataset and download the corresponding file for \"annual precipitation\", load it to QGIS and compare it with your own result.</p>"}]}